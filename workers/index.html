
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Inputs/">
      
      
        <link rel="next" href="../constructors/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>Workers - Q-ETL Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a40c8224.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#workers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Q-ETL Documentation" class="md-header__button md-logo" aria-label="Q-ETL Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Q-ETL Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Workers
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Q-ETL Documentation" class="md-nav__button md-logo" aria-label="Q-ETL Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Q-ETL Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Inputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inputs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Workers
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Workers
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#python.engine.workers" class="md-nav__link">
    <span class="md-ellipsis">
      workers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.engine.workers.Worker" class="md-nav__link">
    <span class="md-ellipsis">
      Worker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Worker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File" class="md-nav__link">
    <span class="md-ellipsis">
      File
    </span>
  </a>
  
    <nav class="md-nav" aria-label="File">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File.deleter" class="md-nav__link">
    <span class="md-ellipsis">
      deleter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File.download_file" class="md-nav__link">
    <span class="md-ellipsis">
      download_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File.existence_checker" class="md-nav__link">
    <span class="md-ellipsis">
      existence_checker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File.folderTruncator" class="md-nav__link">
    <span class="md-ellipsis">
      folderTruncator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File.lister" class="md-nav__link">
    <span class="md-ellipsis">
      lister
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File.mover" class="md-nav__link">
    <span class="md-ellipsis">
      mover
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector" class="md-nav__link">
    <span class="md-ellipsis">
      Vector
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Vector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.addAutoIncrementalField" class="md-nav__link">
    <span class="md-ellipsis">
      addAutoIncrementalField
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.addxyfieldstolayer" class="md-nav__link">
    <span class="md-ellipsis">
      addxyfieldstolayer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.assign_projection" class="md-nav__link">
    <span class="md-ellipsis">
      assign_projection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.attributeindex" class="md-nav__link">
    <span class="md-ellipsis">
      attributeindex
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.bufferLayer" class="md-nav__link">
    <span class="md-ellipsis">
      bufferLayer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.clip" class="md-nav__link">
    <span class="md-ellipsis">
      clip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.concavehull" class="md-nav__link">
    <span class="md-ellipsis">
      concavehull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.convexhull" class="md-nav__link">
    <span class="md-ellipsis">
      convexhull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.countpointsinpolygon" class="md-nav__link">
    <span class="md-ellipsis">
      countpointsinpolygon
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.createCentroids" class="md-nav__link">
    <span class="md-ellipsis">
      createCentroids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.dbscanclustering" class="md-nav__link">
    <span class="md-ellipsis">
      dbscanclustering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.deleteColumns" class="md-nav__link">
    <span class="md-ellipsis">
      deleteColumns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.delete_geopacakge_layers" class="md-nav__link">
    <span class="md-ellipsis">
      delete_geopacakge_layers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.difference" class="md-nav__link">
    <span class="md-ellipsis">
      difference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.dissolveFeatures" class="md-nav__link">
    <span class="md-ellipsis">
      dissolveFeatures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.execute_sql" class="md-nav__link">
    <span class="md-ellipsis">
      execute_sql
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.extractByExpression" class="md-nav__link">
    <span class="md-ellipsis">
      extractByExpression
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.extractByLocation" class="md-nav__link">
    <span class="md-ellipsis">
      extractByLocation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.extractvertices" class="md-nav__link">
    <span class="md-ellipsis">
      extractvertices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.fieldCalculator" class="md-nav__link">
    <span class="md-ellipsis">
      fieldCalculator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.fixGeometry" class="md-nav__link">
    <span class="md-ellipsis">
      fixGeometry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.forceRHR" class="md-nav__link">
    <span class="md-ellipsis">
      forceRHR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.joinByLocation" class="md-nav__link">
    <span class="md-ellipsis">
      joinByLocation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.join_by_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      join_by_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.kmeansclustering" class="md-nav__link">
    <span class="md-ellipsis">
      kmeansclustering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.lineintersections" class="md-nav__link">
    <span class="md-ellipsis">
      lineintersections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.mergeVectorLayers" class="md-nav__link">
    <span class="md-ellipsis">
      mergeVectorLayers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.multiringconstantbuffer" class="md-nav__link">
    <span class="md-ellipsis">
      multiringconstantbuffer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.poleofinaccessibility" class="md-nav__link">
    <span class="md-ellipsis">
      poleofinaccessibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.promoteToMultipart" class="md-nav__link">
    <span class="md-ellipsis">
      promoteToMultipart
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.randomExtract" class="md-nav__link">
    <span class="md-ellipsis">
      randomExtract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.randomselection" class="md-nav__link">
    <span class="md-ellipsis">
      randomselection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.renameTableField" class="md-nav__link">
    <span class="md-ellipsis">
      renameTableField
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.reproject" class="md-nav__link">
    <span class="md-ellipsis">
      reproject
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.simplify" class="md-nav__link">
    <span class="md-ellipsis">
      simplify
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.spatialindex" class="md-nav__link">
    <span class="md-ellipsis">
      spatialindex
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.symmetricaldifference" class="md-nav__link">
    <span class="md-ellipsis">
      symmetricaldifference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.timeStamper" class="md-nav__link">
    <span class="md-ellipsis">
      timeStamper
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../constructors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constructors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../outputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Outputs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#python.engine.workers" class="md-nav__link">
    <span class="md-ellipsis">
      workers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python.engine.workers.Worker" class="md-nav__link">
    <span class="md-ellipsis">
      Worker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Worker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File" class="md-nav__link">
    <span class="md-ellipsis">
      File
    </span>
  </a>
  
    <nav class="md-nav" aria-label="File">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File.deleter" class="md-nav__link">
    <span class="md-ellipsis">
      deleter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File.download_file" class="md-nav__link">
    <span class="md-ellipsis">
      download_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File.existence_checker" class="md-nav__link">
    <span class="md-ellipsis">
      existence_checker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File.folderTruncator" class="md-nav__link">
    <span class="md-ellipsis">
      folderTruncator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File.lister" class="md-nav__link">
    <span class="md-ellipsis">
      lister
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.File.mover" class="md-nav__link">
    <span class="md-ellipsis">
      mover
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector" class="md-nav__link">
    <span class="md-ellipsis">
      Vector
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Vector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.addAutoIncrementalField" class="md-nav__link">
    <span class="md-ellipsis">
      addAutoIncrementalField
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.addxyfieldstolayer" class="md-nav__link">
    <span class="md-ellipsis">
      addxyfieldstolayer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.assign_projection" class="md-nav__link">
    <span class="md-ellipsis">
      assign_projection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.attributeindex" class="md-nav__link">
    <span class="md-ellipsis">
      attributeindex
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.bufferLayer" class="md-nav__link">
    <span class="md-ellipsis">
      bufferLayer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.clip" class="md-nav__link">
    <span class="md-ellipsis">
      clip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.concavehull" class="md-nav__link">
    <span class="md-ellipsis">
      concavehull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.convexhull" class="md-nav__link">
    <span class="md-ellipsis">
      convexhull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.countpointsinpolygon" class="md-nav__link">
    <span class="md-ellipsis">
      countpointsinpolygon
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.createCentroids" class="md-nav__link">
    <span class="md-ellipsis">
      createCentroids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.dbscanclustering" class="md-nav__link">
    <span class="md-ellipsis">
      dbscanclustering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.deleteColumns" class="md-nav__link">
    <span class="md-ellipsis">
      deleteColumns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.delete_geopacakge_layers" class="md-nav__link">
    <span class="md-ellipsis">
      delete_geopacakge_layers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.difference" class="md-nav__link">
    <span class="md-ellipsis">
      difference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.dissolveFeatures" class="md-nav__link">
    <span class="md-ellipsis">
      dissolveFeatures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.execute_sql" class="md-nav__link">
    <span class="md-ellipsis">
      execute_sql
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.extractByExpression" class="md-nav__link">
    <span class="md-ellipsis">
      extractByExpression
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.extractByLocation" class="md-nav__link">
    <span class="md-ellipsis">
      extractByLocation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.extractvertices" class="md-nav__link">
    <span class="md-ellipsis">
      extractvertices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.fieldCalculator" class="md-nav__link">
    <span class="md-ellipsis">
      fieldCalculator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.fixGeometry" class="md-nav__link">
    <span class="md-ellipsis">
      fixGeometry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.forceRHR" class="md-nav__link">
    <span class="md-ellipsis">
      forceRHR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.joinByLocation" class="md-nav__link">
    <span class="md-ellipsis">
      joinByLocation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.join_by_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      join_by_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.kmeansclustering" class="md-nav__link">
    <span class="md-ellipsis">
      kmeansclustering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.lineintersections" class="md-nav__link">
    <span class="md-ellipsis">
      lineintersections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.mergeVectorLayers" class="md-nav__link">
    <span class="md-ellipsis">
      mergeVectorLayers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.multiringconstantbuffer" class="md-nav__link">
    <span class="md-ellipsis">
      multiringconstantbuffer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.poleofinaccessibility" class="md-nav__link">
    <span class="md-ellipsis">
      poleofinaccessibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.promoteToMultipart" class="md-nav__link">
    <span class="md-ellipsis">
      promoteToMultipart
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.randomExtract" class="md-nav__link">
    <span class="md-ellipsis">
      randomExtract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.randomselection" class="md-nav__link">
    <span class="md-ellipsis">
      randomselection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.renameTableField" class="md-nav__link">
    <span class="md-ellipsis">
      renameTableField
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.reproject" class="md-nav__link">
    <span class="md-ellipsis">
      reproject
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.simplify" class="md-nav__link">
    <span class="md-ellipsis">
      simplify
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.spatialindex" class="md-nav__link">
    <span class="md-ellipsis">
      spatialindex
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.symmetricaldifference" class="md-nav__link">
    <span class="md-ellipsis">
      symmetricaldifference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python.engine.workers.Worker.Vector.timeStamper" class="md-nav__link">
    <span class="md-ellipsis">
      timeStamper
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="workers">Workers</h1>
<p>The <em>Worker</em> class is the base object to work with files and vector layers. It contains two subclasses - <em>File</em> for working with the filesystem and <em>Vector</em> for working with vector data.</p>


<div class="doc doc-object doc-module">



<a id="python.engine.workers"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="python.engine.workers.Worker" class="doc doc-heading">
            <code>Worker</code>


</h2>


    <div class="doc doc-contents ">


        <p>Base class for transforming data.</p>






              <details class="quote">
                <summary>Source code in <code>python\engine\workers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  13</span>
<span class="normal">  14</span>
<span class="normal">  15</span>
<span class="normal">  16</span>
<span class="normal">  17</span>
<span class="normal">  18</span>
<span class="normal">  19</span>
<span class="normal">  20</span>
<span class="normal">  21</span>
<span class="normal">  22</span>
<span class="normal">  23</span>
<span class="normal">  24</span>
<span class="normal">  25</span>
<span class="normal">  26</span>
<span class="normal">  27</span>
<span class="normal">  28</span>
<span class="normal">  29</span>
<span class="normal">  30</span>
<span class="normal">  31</span>
<span class="normal">  32</span>
<span class="normal">  33</span>
<span class="normal">  34</span>
<span class="normal">  35</span>
<span class="normal">  36</span>
<span class="normal">  37</span>
<span class="normal">  38</span>
<span class="normal">  39</span>
<span class="normal">  40</span>
<span class="normal">  41</span>
<span class="normal">  42</span>
<span class="normal">  43</span>
<span class="normal">  44</span>
<span class="normal">  45</span>
<span class="normal">  46</span>
<span class="normal">  47</span>
<span class="normal">  48</span>
<span class="normal">  49</span>
<span class="normal">  50</span>
<span class="normal">  51</span>
<span class="normal">  52</span>
<span class="normal">  53</span>
<span class="normal">  54</span>
<span class="normal">  55</span>
<span class="normal">  56</span>
<span class="normal">  57</span>
<span class="normal">  58</span>
<span class="normal">  59</span>
<span class="normal">  60</span>
<span class="normal">  61</span>
<span class="normal">  62</span>
<span class="normal">  63</span>
<span class="normal">  64</span>
<span class="normal">  65</span>
<span class="normal">  66</span>
<span class="normal">  67</span>
<span class="normal">  68</span>
<span class="normal">  69</span>
<span class="normal">  70</span>
<span class="normal">  71</span>
<span class="normal">  72</span>
<span class="normal">  73</span>
<span class="normal">  74</span>
<span class="normal">  75</span>
<span class="normal">  76</span>
<span class="normal">  77</span>
<span class="normal">  78</span>
<span class="normal">  79</span>
<span class="normal">  80</span>
<span class="normal">  81</span>
<span class="normal">  82</span>
<span class="normal">  83</span>
<span class="normal">  84</span>
<span class="normal">  85</span>
<span class="normal">  86</span>
<span class="normal">  87</span>
<span class="normal">  88</span>
<span class="normal">  89</span>
<span class="normal">  90</span>
<span class="normal">  91</span>
<span class="normal">  92</span>
<span class="normal">  93</span>
<span class="normal">  94</span>
<span class="normal">  95</span>
<span class="normal">  96</span>
<span class="normal">  97</span>
<span class="normal">  98</span>
<span class="normal">  99</span>
<span class="normal"> 100</span>
<span class="normal"> 101</span>
<span class="normal"> 102</span>
<span class="normal"> 103</span>
<span class="normal"> 104</span>
<span class="normal"> 105</span>
<span class="normal"> 106</span>
<span class="normal"> 107</span>
<span class="normal"> 108</span>
<span class="normal"> 109</span>
<span class="normal"> 110</span>
<span class="normal"> 111</span>
<span class="normal"> 112</span>
<span class="normal"> 113</span>
<span class="normal"> 114</span>
<span class="normal"> 115</span>
<span class="normal"> 116</span>
<span class="normal"> 117</span>
<span class="normal"> 118</span>
<span class="normal"> 119</span>
<span class="normal"> 120</span>
<span class="normal"> 121</span>
<span class="normal"> 122</span>
<span class="normal"> 123</span>
<span class="normal"> 124</span>
<span class="normal"> 125</span>
<span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Worker</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Base class for transforming data.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="c1">## Method that draws the progress bar</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">printProgressBar</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="n">label</span><span class="p">):</span>
        <span class="n">n_bar</span> <span class="o">=</span> <span class="mi">40</span> <span class="c1">#size of progress bar</span>
        <span class="nb">max</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="n">j</span><span class="o">=</span> <span class="n">value</span><span class="o">/</span><span class="nb">max</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\r</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">bar</span> <span class="o">=</span> <span class="s1">&#39;█&#39;</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">n_bar</span> <span class="o">*</span> <span class="n">j</span><span class="p">)</span>
        <span class="n">bar</span> <span class="o">=</span> <span class="n">bar</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">n_bar</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">j</span><span class="p">))</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">label</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="si">}</span><span class="s2"> | [</span><span class="si">{</span><span class="n">bar</span><span class="si">:{</span><span class="n">n_bar</span><span class="si">}</span><span class="s2">s</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="mi">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="si">}</span><span class="s2">% &quot;</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>        

    <span class="c1">## The progress bar function</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">progress_changed</span><span class="p">(</span><span class="n">progress</span><span class="p">):</span>
        <span class="n">Worker</span><span class="o">.</span><span class="n">printProgressBar</span><span class="p">(</span><span class="n">progress</span><span class="p">,</span> <span class="s1">&#39;%&#39;</span><span class="p">)</span>

    <span class="c1">## The shared element for progress across all workers</span>
    <span class="n">progress</span> <span class="o">=</span> <span class="n">QgsProcessingFeedback</span><span class="p">()</span>
    <span class="n">progress</span><span class="o">.</span><span class="n">progressChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">progress_changed</span><span class="p">)</span>

    <span class="c1">## The shared element for logging across all workers</span>
    <span class="n">logger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">()</span> 


    <span class="k">class</span><span class="w"> </span><span class="nc">Vector</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        A Worker subclass that contains methods to transform vector data or their attributes.</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">attributeindex</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Creates an index to speed up queries made against a field in a table.</span>
<span class="sd">            Support for index creation is dependent on the layer&#39;s data provider and the field type.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">                field (string): The field to base the index on</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Crating attribute index on &quot;</span> <span class="o">+</span> <span class="n">layer</span> <span class="o">+</span> <span class="s2">&quot; on filed &quot;</span> <span class="o">+</span> <span class="n">field</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">field</span><span class="p">,</span>
                    <span class="s1">&#39;FIELD&#39;</span><span class="p">:</span> <span class="n">field</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
                <span class="p">}</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:createattributeindex&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;createattributeindex  finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in createattributeindex&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">addxyfieldstolayer</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">crs</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Adds X and Y (or latitude/longitude) fields to a point layer. The X/Y fields can be calculated in a different CRS to the layer (e.g. creating latitude/longitude fields for a layer in a projected CRS).</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The input layer.</span>
<span class="sd">                crs (string): Coordinate reference system to use for the generated x and y fields.</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): Specify the output layer.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Adding X/Y fields to </span><span class="si">{</span><span class="n">layer</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;CRS&#39;</span><span class="p">:</span> <span class="n">crs</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_addxyfieldstolayer&#39;</span>
                <span class="p">}</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:addxyfieldstolayer&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;addxyfieldstolayer  finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in addxyfieldstolayer&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">convexhull</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Calculates the convex hull for each feature in an input layer.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): Input vector layer</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): Specify the output vector layer.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Calculating convexhull for layer </span><span class="si">{</span><span class="n">layer</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_convexhull&#39;</span>
                <span class="p">}</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:convexhull&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;convexhull  finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in convexhull&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">concavehull</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span><span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">alpha</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">holes</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">multigeom</span><span class="p">:</span> <span class="nb">bool</span> <span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Computes the concave hull of the features from an input point layer.</span>

<span class="sd">            Args:</span>
<span class="sd">                inputlayer (QgsVectorLayer): Input point vector layer</span>
<span class="sd">                alpha (float): Number from 0 (maximum concave hull) to 1 (convex hull).</span>
<span class="sd">                holes (boolean): Choose whether to allow holes in the final concave hull</span>
<span class="sd">                multigeom (boolean): Check if you want to have singlepart geometries instead of multipart ones.</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): Specify the output vector layer</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;calcualting concavehull&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                    <span class="s1">&#39;ALPHA&#39;</span> <span class="p">:</span> <span class="n">alpha</span><span class="p">,</span>
                    <span class="s1">&#39;HOLES&#39;</span> <span class="p">:</span> <span class="n">holes</span><span class="p">,</span>
                    <span class="s1">&#39;NO_MULTIGEOMETRY&#39;</span> <span class="p">:</span> <span class="n">multigeom</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_concavehull&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:concavehull&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;concavehull finished&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in concavehull&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>            

        <span class="k">def</span><span class="w"> </span><span class="nf">extractvertices</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span><span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Takes a vector layer and generates a point layer with points representing the vertices in the input geometries.</span>
<span class="sd">            The attributes associated to each point are the same ones associated to the feature that the vertex belongs to.</span>
<span class="sd">            Additional fields are added to the vertices indicating the vertex index (beginning at 0), the feature’s part and its index within the part</span>
<span class="sd">            (as well as its ring for polygons), distance along original geometry and bisector angle of vertex for original geometry.</span>

<span class="sd">            Args:</span>
<span class="sd">                inputlayer (QgsVectorLayer): Input vector layer</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): Specify the output vector layer</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Extracting vertices&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_extractvertices&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:extractvertices&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;extractvertices finished&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in extractvertices&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>    

        <span class="k">def</span><span class="w"> </span><span class="nf">multiringconstantbuffer</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span><span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">rings</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">distance</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Computes multi-ring (donut) buffer for the features of the input layer, using a fixed or dynamic distance and number of rings.</span>

<span class="sd">            Args:</span>
<span class="sd">                inputlayer (QgsVectorLayer): Input vector layer</span>
<span class="sd">                rings (integer): The number of rings. It can be a unique value (same number of rings for all the features) or it can be taken from features data (the number of rings depends on feature values).</span>
<span class="sd">                distance (string): Distance between the rings. It can be a unique value (same distance for all the features) or it can be taken from features data (a field in the input data layer).</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): Specify the output polygon vector layer</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Creating multiringconstantbuffer&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">dist</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Using distance value&#39;</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">dist</span> <span class="o">=</span> <span class="n">QgsProperty</span><span class="o">.</span><span class="n">fromExpression</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">distance</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Using distance from field&#39;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                    <span class="s1">&#39;RINGS&#39;</span><span class="p">:</span> <span class="n">rings</span><span class="p">,</span>
                    <span class="s1">&#39;DISTANCE&#39;</span><span class="p">:</span> <span class="n">distance</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_multiringconstantbuffer&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:multiringconstantbuffer&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;multiringconstantbuffer finished&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in multiringconstantbuffer&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span> 

        <span class="k">def</span><span class="w"> </span><span class="nf">poleofinaccessibility</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span><span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Calculates the pole of inaccessibility for a polygon layer, which is the most distant internal point from the boundary of the surface. </span>
<span class="sd">            This algorithm uses the ‘polylabel’ algorithm (Vladimir Agafonkin, 2016), which is an iterative approach guaranteed to find the true pole of inaccessibility within</span>
<span class="sd">            a specified tolerance. A more precise tolerance (lower value) requires more iterations and will take longer to calculate. </span>
<span class="sd">            The distance from the calculated pole to the polygon boundary will be stored as a new attribute in the output layer.</span>

<span class="sd">            Args:</span>
<span class="sd">                inputlayer (QgsVectorLayer): Input vector layer</span>
<span class="sd">                tolerance (integer): Set the tolerance for the calculation. Default 1</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): Specify the output polygon vector layer.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;calcualting poleofinaccessibility&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                    <span class="s1">&#39;TOLERANCE&#39;</span> <span class="p">:</span> <span class="n">tolerance</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_poleofinaccessibility&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:poleofinaccessibility&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;poleofinaccessibility finished&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in poleofinaccessibility&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>


        <span class="k">def</span><span class="w"> </span><span class="nf">symmetricaldifference</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">overlay_layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Creates a layer containing features from both the input and overlay layers but with the overlapping areas between the two layers removed.</span>
<span class="sd">            The attribute table of the symmetrical difference layer contains attributes and fields from both the input and overlay layers.</span>

<span class="sd">            Args:</span>
<span class="sd">                inputlayer (QgsVectorLayer): First layer to extract (parts of) features from.</span>
<span class="sd">                overlay_layer (QgsVectorLayer): Second layer to extract (parts of) features from. Ideally the geometry type should be the same as input layer.</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): Specify the layer to contain (the parts of) the features from the input and overlay layers that do not overlap features from the other layer</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;calcualting symetrical difference&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                    <span class="s1">&#39;OVERLAY&#39;</span> <span class="p">:</span> <span class="n">overlay_layer</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_symmetricaldifference&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:symmetricaldifference&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Symmetricaldifference finished&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in symmetricaldifference&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">lineintersections</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">split_layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">input_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">intersect_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Splits the lines or polygons in one layer using the lines or polygon rings in another layer to define the breaking points. Intersection between geometries in both layers are considered as split points.</span>
<span class="sd">            Output will contain multi geometries for split features.</span>

<span class="sd">            Args:</span>
<span class="sd">                inputlayer (QgsVectorLayer): Input line layer.</span>
<span class="sd">                split_layer (QgsVectorLayer): Layer to use to find line intersections.</span>
<span class="sd">                input_fields (list of strings): Field(s) of the input layer to keep in the output. If no fields are chosen all fields are taken.</span>
<span class="sd">                intersect_fields (list of strings): Field(s) of the intersect layer to keep in the output. If no fields are chosen all fields are taken. Duplicate field names will be appended a count suffix to avoid collision</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): Specify the layer to contain the intersection points of the lines from the input and overlay layers.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Performing line intersections&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                    <span class="s1">&#39;INTERSECT&#39;</span><span class="p">:</span> <span class="n">split_layer</span><span class="p">,</span>
                    <span class="s1">&#39;INPUT_FIELDS&#39;</span> <span class="p">:</span> <span class="n">input_fields</span><span class="p">,</span> 
                    <span class="s1">&#39;INTERSECT_FIELDS&#39;</span> <span class="p">:</span> <span class="n">intersect_fields</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_lineintersections&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:lineintersections&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Lineintersections finished&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Lineintersections&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">kmeansclustering</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">clusters</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Calculates the 2D distance based k-means cluster number for each input feature.</span>
<span class="sd">            K-means clustering aims to partition the features into k clusters in which each feature belongs to the cluster with the nearest mean. The mean point is represented by the barycenter of the clustered features.</span>
<span class="sd">            If input geometries are lines or polygons, the clustering is based on the centroid of the feature.</span>

<span class="sd">            Args:</span>
<span class="sd">                inputlayer (QgsVectorLayer): Layer to analyze</span>
<span class="sd">                clusters (integer): Number of clusters to create with the features</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): Specify the output vector layer for generated the clusters.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Calculating clusters&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                    <span class="s1">&#39;CLUSTERS&#39;</span> <span class="p">:</span> <span class="n">clusters</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_kmeansclustering&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:kmeansclustering&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Kmeansclustering finished&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Kmeansclustering&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">dbscanclustering</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">min_clusters</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">max_dist</span><span class="p">:</span> <span class="nb">int</span> <span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Clusters point features based on a 2D implementation of Density-based spatial clustering of applications with noise (DBSCAN) algorithm.</span>
<span class="sd">            The algorithm requires two parameters, a minimum cluster size, and the maximum distance allowed between clustered points.</span>

<span class="sd">            Args:</span>
<span class="sd">                inputlayer (QgsVectorLayer): Layer to analyze</span>
<span class="sd">                min_clusters (integer): Minimum number of features to generate a cluster</span>
<span class="sd">                max_dist (integer): Distance beyond which two features can not belong to the same cluster (eps)</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): Specify the vector layer for the result of the clustering.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Performing DBScan clustering&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                    <span class="s1">&#39;MIN_SIZE&#39;</span> <span class="p">:</span> <span class="n">min_clusters</span><span class="p">,</span>
                    <span class="s1">&#39;EPS&#39;</span><span class="p">:</span> <span class="n">max_dist</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_dbscanclustering&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:dbscanclustering&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Dbscanclustering finished&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Dbscanclustering&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">countpointsinpolygon</span><span class="p">(</span><span class="n">polygons</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">points</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">weight</span> <span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Takes a point and a polygon layer and counts the number of points from the point layer in each of the polygons of the polygon layer.</span>
<span class="sd">            A new polygon layer is generated, with the exact same content as the input polygon layer, but containing an additional field with the points count corresponding to each polygon.</span>

<span class="sd">            Args:</span>
<span class="sd">                polygons (QgsVectorLayer): Polygon layer whose features are associated with the count of points they contain</span>
<span class="sd">                points (QgsVectorLayer): Point layer with features to count</span>
<span class="sd">                weight (string): A field from the point layer. The count generated will be the sum of the weight field of the points contained by the polygon. If the weight field is not numeric, the count will be 0.</span>
<span class="sd">                fieldname (string): The name of the field to store the count of points</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): Specification of the output layer.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Conducting point in polygon&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">weight</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">weight</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>

                <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;POLYGONS&#39;</span><span class="p">:</span> <span class="n">polygons</span><span class="p">,</span>
                    <span class="s1">&#39;POINTS&#39;</span><span class="p">:</span> <span class="n">points</span><span class="p">,</span>
                    <span class="s1">&#39;WEIGHT&#39;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span>
                    <span class="s1">&#39;FIELD&#39;</span> <span class="p">:</span> <span class="n">fieldname</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_countpointsinpolygon&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:Countpointsinpolygon&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Promote to multipart finished&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Countpointsinpolygon&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>  

        <span class="k">def</span><span class="w"> </span><span class="nf">promoteToMultipart</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Generates a vectorlayer in which all geometries are multipart.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer that is used as input.</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer containing multi geometries.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Collecting geometries&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:multipart&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:promotetomulti&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Promote to multipart finished&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in promoteToMultipart&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">extractByExpression</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">expression</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Creates a vector layer from an input layer, containing only matching features.</span>
<span class="sd">            The criteria for adding features to the resulting layer is based on a QGIS expression.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer that is used as input.</span>
<span class="sd">                expression (string): Expression to filter the vector layer</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer output layer.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting by expression&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;EXPRESSION&#39;</span><span class="p">:</span> <span class="n">expression</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:extractbyexpression&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extractbyexpression  finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in extractByExpression&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">renameTableField</span> <span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">newname</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Renames an existing field from a vector layer.  </span>
<span class="sd">            The original layer is not modified. A new layer is generated where the attribute table contains the renamed field.</span>
<span class="sd">            QGIS processing algorithem: native:renametablefield</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">                field (string): The field that is to be renamed</span>
<span class="sd">                newname (string): New name for the field</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Renaming field&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;FIELD&#39;</span><span class="p">:</span> <span class="n">field</span><span class="p">,</span>
                    <span class="s1">&#39;NEW_NAME&#39;</span><span class="p">:</span> <span class="n">newname</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
                <span class="p">}</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:renametablefield&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;renameTableField  finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in renameTableField&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">timeStamper</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">ts_fieldname</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Create an attribute woth current timestamp on features.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">                ts_fieldname (string): The name of the new timestamp field</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Creating timestamp </span><span class="si">{</span><span class="n">ts_fieldname</span><span class="si">}</span><span class="s1"> using fieldCalculator&#39;</span><span class="p">)</span>
            <span class="n">newLayer</span> <span class="o">=</span> <span class="n">Worker</span><span class="o">.</span><span class="n">fieldCalculator</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">ts_fieldname</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39; now() &#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">newLayer</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">fieldCalculator</span> <span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">fieldtype</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">fieldlength</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">fieldprecision</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">formula</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Scripting the field calcualtor</span>
<span class="sd">            You can use all the supported expressions and functions.</span>
<span class="sd">            The original layer is not modified. A new layer is generated where the attribute table contains the calucalted field</span>
<span class="sd">            QGIS processing algorithem: native:fieldcalculator</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">                fieldname (string): The name of the new calcualted field</span>
<span class="sd">                fieldtype (integer): Type of the field,  Default: 0  (0 — Float, 1 — Integer, 2 — String, 3 — Date)</span>
<span class="sd">                fieldlength (integer): Lenght of the field, Default: 10.</span>
<span class="sd">                fieldprecision (integer): Precision of the field, Default: 3.</span>
<span class="sd">                formula (string): The expression that populates the values of the field.</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Calculating field&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;FIELD_NAME&#39;</span><span class="p">:</span> <span class="n">fieldname</span><span class="p">,</span>
                    <span class="s1">&#39;FIELD_TYPE&#39;</span><span class="p">:</span> <span class="n">fieldtype</span><span class="p">,</span>
                    <span class="s1">&#39;FIELD_LENGTH&#39;</span><span class="p">:</span> <span class="n">fieldlength</span><span class="p">,</span>
                    <span class="s1">&#39;FIELD_PRECISION&#39;</span><span class="p">:</span> <span class="n">fieldprecision</span><span class="p">,</span>
                    <span class="s1">&#39;FORMULA&#39;</span><span class="p">:</span> <span class="n">formula</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
                <span class="p">}</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:fieldcalculator&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;fieldCalculator  finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in fieldCalculator&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">deleteColumns</span> <span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Takes a vector layer and generates a new one that has the same features but without the selected columns.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): Input vector layer to drop field(s) from</span>
<span class="sd">                columns (list of strings): The field(s) to drop</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer output layer.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;deleting fields&quot;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;COLUMN&#39;</span><span class="p">:</span><span class="n">columns</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
                <span class="p">}</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:deletecolumn&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;deleteColumns  finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in deleteColumns&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">addAutoIncrementalField</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Adds a new integer field to a vector layer, with a sequential value for each feature.</span>
<span class="sd">            This field can be used as a unique ID for features in the layer. The new attribute is not added to the input layer but a new layer is generated instead.</span>
<span class="sd">            The initial starting value for the incremental series can be specified. Optionally, the incremental series can be based on grouping </span>
<span class="sd">            fields and a sort order for features can also be specified.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer that is used as input.</span>
<span class="sd">                fieldname (string): Name of the field with autoincremental values.</span>
<span class="sd">                start (integer): Choose the initial number of the incremental count, Default: 0.</span>

<span class="sd">            Returns</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer output layer.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Adding incremental field&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;FIELD_NAME&#39;</span><span class="p">:</span> <span class="n">fieldname</span><span class="p">,</span>
                    <span class="s1">&#39;START&#39;</span><span class="p">:</span><span class="n">start</span><span class="p">,</span>
                    <span class="s1">&#39;MODULUS&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                    <span class="s1">&#39;GROUP_FIELDS&#39;</span><span class="p">:[],</span>
                    <span class="s1">&#39;SORT_EXPRESSION&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;SORT_ASCENDING&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span>
                    <span class="s1">&#39;SORT_NULLS_FIRST&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
                <span class="p">}</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:addautoincrementalfield&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;addAutoIncrementalField  finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in addAutoIncrementalField&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">spatialindex</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Creates an index to speed up access to the features in a layer based on their spatial location.</span>
<span class="sd">            Support for spatial index creation is dependent on the layer&#39;s data provider.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Crating spatial index on &quot;</span> <span class="o">+</span> <span class="n">layer</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
                <span class="p">}</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:createspatialindex&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;createspatialindex  finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in createspatialindex&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">clip</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">overlay</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Clips a vector layer using the features of an additional polygon layer.</span>
<span class="sd">            Only the parts of the features in the input layer that fall within the polygons of </span>
<span class="sd">            the overlay layer will be added to the resulting layer.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): Layer containing the features to be clipped</span>
<span class="sd">                overlay (QgsVectorLayer): Layer containing the clipping features</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): Layer to contain the features from the input layer that are inside the overlay (clipping) layer</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Clipping layers&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;OVERLAY&#39;</span><span class="p">:</span> <span class="n">overlay</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:clip&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Clip  finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Clip&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">joinByLocation</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">predicate</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">join</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">join_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">discard_nomatching</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Takes an input vector layer and creates a new vector layer that is an extended version of</span>
<span class="sd">            the input one, with additional attributes in its attribute table.</span>
<span class="sd">            The additional attributes and their values are taken from a second vector layer.</span>
<span class="sd">            A spatial criteria is applied to select the values from the second layer that are added to each </span>
<span class="sd">            feature from the first layer.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): Input vector layer. The output layer will consist of the features of this layer with attributes from matching features in the second layer.</span>
<span class="sd">                predicate (integer): Type of spatial relation the source feature should have with the target feature so that they could be joined. One or more of: 0 — intersect, 1 — contain, 2 — equal, 3 — touch, 4 — overlap, 5 — are within 6 — cross.</span>
<span class="sd">                join (QgsVectorLayer): The join layer. Features of this vector layer will add their attributes to the source layer attribute table if they satisfy the spatial relationship.</span>
<span class="sd">                join_fields (list of strings): Select the specific fields you want to add from the join layer. By default all the fields are added.</span>
<span class="sd">                method (integer): The type of the final joined layer. One of: 0 — Create separate feature for each matching feature (one-to-many) 1 — Take attributes of the first matching feature only (one-to-one) 2 — Take attributes of the feature with largest overlap only (one-to-one)</span>
<span class="sd">                discard_nomatching (boolean): Remove from the output the input layer’s features which could not be joined</span>
<span class="sd">                prefix (string): Add a prefix to joined fields in order to easily identify them and avoid field name collision</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): the output vector layer for the join.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Clipping layers&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;PREDICATE&#39;</span><span class="p">:</span><span class="n">predicate</span><span class="p">,</span>
                    <span class="s1">&#39;JOIN&#39;</span><span class="p">:</span><span class="n">join</span><span class="p">,</span>
                    <span class="s1">&#39;JOIN_FIELDS&#39;</span><span class="p">:</span><span class="n">join_fields</span><span class="p">,</span>
                    <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
                    <span class="s1">&#39;DISCARD_NONMATCHING&#39;</span><span class="p">:</span><span class="n">discard_nomatching</span><span class="p">,</span>
                    <span class="s1">&#39;PREFIX&#39;</span><span class="p">:</span><span class="n">prefix</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:joinattributesbylocation&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;joinByLocation finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in joinByLocation&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">extractByLocation</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">predicate</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">intersect</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;_summary_</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): Input vector layer. </span>
<span class="sd">                predicate (integer): Type of spatial relation the source feature should have with the target feature so that they could be joined. One or more of: 0 — intersect, 1 — contain, 2 — equal, 3 — touch, 4 — overlap, 5 — are within 6 — cross.</span>
<span class="sd">                intersect (QgsVectorLayer): Intersection vector layer</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): the output vector layer for the join.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting by location&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;PREDICATE&#39;</span><span class="p">:</span><span class="n">predicate</span><span class="p">,</span>
                    <span class="s1">&#39;INTERSECT&#39;</span><span class="p">:</span><span class="n">intersect</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:extractbylocation&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;extractByLocation finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in extractByLocation&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">randomExtract</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Takes a vector layer and generates a new one that contains only a subset of the features in the input layer.</span>
<span class="sd">            The subset is defined randomly, based on feature IDs, using a percentage or count value to define </span>
<span class="sd">            the total number of features in the subset.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): Input vector layer. </span>
<span class="sd">                method (integer): Random selection method. One of: 0 — Number of selected features 1 — Percentage of selected features</span>
<span class="sd">                number (integer): Number or percentage of features to select</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting random features&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
                    <span class="s1">&#39;NUMBER&#39;</span><span class="p">:</span><span class="n">number</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:randomextract&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;randomExtract finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in randomExtract&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">difference</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">overlay</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Extracts features from the input layer that don’t fall within the boundaries of the overlay layer.</span>
<span class="sd">            Input layer features that partially overlap the overlay layer feature(s) are split along the </span>
<span class="sd">            boundary of those feature(s.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): Layer to extract (parts of) features from.</span>
<span class="sd">                overlay (QgsVectorLayer): Layer containing the geometries that will be subtracted from the iniput layer geometries</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finding differences&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;OVERLAY&#39;</span><span class="p">:</span> <span class="n">overlay</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:difference&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Difference  finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Difference&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">reproject</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">targetEPSG</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Reprojects a vector layer in a different CRS.</span>
<span class="sd">            The reprojected layer will have the same features and attributes of the input layer.</span>
<span class="sd">            QGIS processing algorithem: native:reprojectlayer.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">                targetEPSG (integer): The EPSG code og the target coordinate system.</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Running reporjector V2&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;TARGET_CRS&#39;</span><span class="p">:</span> <span class="n">QgsCoordinateReferenceSystem</span><span class="p">(</span><span class="n">targetEPSG</span><span class="p">),</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:Reprojected&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:reprojectlayer&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Reproject finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured reprojectiong layer&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">simplify</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">:</span><span class="nb">int</span><span class="p">):</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                Simplifies the geometries in a line or polygon layer. </span>
<span class="sd">                It creates a new layer with the same features as the ones in the input layer, but with geometries containing a lower number of vertices.</span>
<span class="sd">                QGIS processing algorithem: native:simplifygeometries.</span>

<span class="sd">                Args:</span>
<span class="sd">                    layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">                    method (integer): Simplification method. One of: 0 — Distance (Douglas-Peucker), 1 — Snap to grid, 2 — Area (Visvalingam)</span>
<span class="sd">                    tolerance (integer): Threshold tolerance (in units of the layer): if the distance between two nodes is smaller than the tolerance value, the segment will be simplified and vertices will be removed.</span>

<span class="sd">                Returns:</span>
<span class="sd">                    layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">                &quot;&quot;&quot;</span>

                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Running simplify&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                        <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
                        <span class="s1">&#39;TOLERANCE&#39;</span><span class="p">:</span><span class="n">tolerance</span><span class="p">,</span>
                        <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:simplify&#39;</span>
                    <span class="p">}</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:simplifygeometries&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Simplifygeometries finished&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">result</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in simplifygeometries&quot;</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">forceRHR</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Forces polygon geometries to respect the Right-Hand-Rule, in which the area that is bounded</span>
<span class="sd">            by a polygon is to the right of the boundary. </span>
<span class="sd">            In particular, the exterior ring is oriented in a clockwise direction and any interior</span>
<span class="sd">            rings in a counter-clockwise direction.</span>
<span class="sd">            QGIS processing algorithem: native:forcerhr</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Running force right-hand rule&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:forced&#39;</span>
                <span class="p">}</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:forcerhr&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;forceRHR finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in forceRHR&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">join_by_attribute</span><span class="p">(</span><span class="n">layer1</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">layer1_field</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">layer2</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">layer2_field</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">fields_to_copy</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">discard</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Takes an input vector layer and creates a new vector layer that is an extended version of the input one, </span>
<span class="sd">            with additional attributes in its attribute table.</span>
<span class="sd">            The additional attributes and their values are taken from a second vector layer. An attribute is selected in each of them </span>
<span class="sd">            to define the join criteria.</span>
<span class="sd">            QGIS processing algorithem: native:joinattributestable.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer1 (QgsVectorLayer): The 1. QgsVectorLayer input for the algorithem</span>
<span class="sd">                layer1_field (string): Field of the source layer to use for the join</span>
<span class="sd">                layer2 (QgsVectorLayer): The 2. QgsVectorLayer input for the algorithem</span>
<span class="sd">                layer2_field (string): Field of the source layer to use for the join</span>
<span class="sd">                fields_to_copy (list of strings): Select the specific fields you want to add. By default all the fields are added. Default []</span>
<span class="sd">                method (integer): The type of the final joined layer. One of: 0 — Create separate feature for each matching feature (one-to-many) 1 — Take attributes of the first matching feature only (one-to-one)</span>
<span class="sd">                discard (boolean): Check if you don’t want to keep the features that could not be joined</span>
<span class="sd">                prefix (string): Add a prefix to joined fields in order to easily identify them and avoid field name collision</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Joining features features&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer1</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer1</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span><span class="n">layer1</span><span class="p">,</span>
                    <span class="s1">&#39;FIELD&#39;</span><span class="p">:</span><span class="n">layer1_field</span><span class="p">,</span>
                    <span class="s1">&#39;INPUT_2&#39;</span><span class="p">:</span><span class="n">layer2</span><span class="p">,</span>
                    <span class="s1">&#39;FIELD_2&#39;</span><span class="p">:</span><span class="n">layer2_field</span><span class="p">,</span>
                    <span class="s1">&#39;FIELDS_TO_COPY&#39;</span><span class="p">:</span><span class="n">fields_to_copy</span><span class="p">,</span>
                    <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
                    <span class="s1">&#39;DISCARD_NONMATCHING&#39;</span><span class="p">:</span><span class="n">discard</span><span class="p">,</span>
                    <span class="s1">&#39;PREFIX&#39;</span><span class="p">:</span><span class="n">prefix</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:joined&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:joinattributestable&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Joinattributestable finished&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Returning &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in joinattributestable&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">dissolveFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">fieldList</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">disjoined</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Takes a vector layer and combines its features into new features. </span>
<span class="sd">            One or more attributes can be specified to dissolve features belonging to the same class </span>
<span class="sd">            (having the same value for the specified attributes), alternatively all features can be dissolved to a single feature.</span>
<span class="sd">            All output geometries will be converted to multi geometries. </span>
<span class="sd">            QGIS processing algorithem: native:dissolve.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">                fieldList (list of strings): List of fields to dissolve on. Default []</span>
<span class="sd">                disjoined (boolean): Keep disjoint features separate ? Default: False</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>

<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Dissolving features&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;FIELD&#39;</span> <span class="p">:</span> <span class="n">fieldList</span><span class="p">,</span>
                    <span class="s1">&#39;SEPARATE_DISJOINT&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:dissolved&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:dissolve&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;DissolveFeatures finished&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Returning &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in dissolveFeatures&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">bufferLayer</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">segements</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">endcapStyle</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">joinStyle</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">miterLimit</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dissolve</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Computes a buffer area for all the features in an input layer, using a fixed or data defined distance.</span>
<span class="sd">            It is possible to use a negative distance for polygon input layers.</span>
<span class="sd">            In this case the buffer will result in a smaller polygon (setback).</span>
<span class="sd">            QGIS processing algorithem: native:buffer</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">                distance (integer): The buffer distance. Default: 10.0</span>
<span class="sd">                segements (integer): Number og segments. Default: 5</span>
<span class="sd">                endcapStyle (integer): Controls how line endings are handled in the buffer. Default: 0 (One of: 0 — Round, 1 — Flat, 2 — Square)</span>
<span class="sd">                joinStyle (integer): Specifies whether round, miter or beveled joins should be used when offsetting corners in a line. Default: 0 (Options are: 0 — Round, 1 — Miter, 2 — Bevel)</span>
<span class="sd">                miterLimit (integer): Sets the maximum distance from the offset geometry to use when creating a mitered join as a factor of the offset distance Default: 0, Minimum: 1</span>
<span class="sd">                dissolve (boolean): Dissolve the final buffer. Default: false.</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating buffer layer&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;DISTANCE&#39;</span><span class="p">:</span> <span class="n">distance</span><span class="p">,</span>
                    <span class="s1">&#39;SEGMENTS&#39;</span><span class="p">:</span> <span class="n">segements</span><span class="p">,</span>
                    <span class="s1">&#39;END_CAP_STYLE&#39;</span><span class="p">:</span> <span class="n">endcapStyle</span><span class="p">,</span>
                    <span class="s1">&#39;JOIN_STYLE&#39;</span><span class="p">:</span> <span class="n">joinStyle</span><span class="p">,</span>
                    <span class="s1">&#39;MITER_LIMIT&#39;</span><span class="p">:</span> <span class="n">miterLimit</span><span class="p">,</span>
                    <span class="s1">&#39;DISSOLVE&#39;</span><span class="p">:</span> <span class="n">dissolve</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:buffer&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;BufferLayer finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in BufferLayer&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">fixGeometry</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Attempts to create a valid representation of a given invalid geometry without losing any of the input vertices.</span>
<span class="sd">            Already valid geometries are returned without further intervention. Always outputs multi-geometry layer.</span>
<span class="sd">            QGIS processing algorithem: native:fixgeometries</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Fixing geometries&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:fixgeometries&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;FixGeometry finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in FixGeometry&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">createCentroids</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Creates a new point layer, with points representing the centroids of the geometries of the input layer.</span>
<span class="sd">            The centroid is a single point representing the barycenter (of all parts) of the feature, so it can be outside the feature borders. But can also be a point on each part of the feature.</span>
<span class="sd">            The attributes of the points in the output layer are the same as for the original features.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating centroids&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;ALL_PARTS&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:centroids&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Centroids finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in createCentroids&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">randomselection</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Takes a vector layer and selects a subset of its features. No new layer is generated by this algorithm.</span>
<span class="sd">            The subset is defined randomly, based on feature IDs, using a percentage or count value to define the </span>
<span class="sd">            total number of features in the subset.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">                method (integer): Random selection method. One of: 0 — Number of selected features, 1 — Percentage of selected features</span>
<span class="sd">                number (integer): Number or percentage of features to select</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Performing random selection&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
                    <span class="s1">&#39;NUMBER&#39;</span><span class="p">:</span><span class="n">number</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:randomextract&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Returning &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;randomextract finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in FixGeometry&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">execute_sql</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">databasetype</span><span class="p">,</span> <span class="n">sql_expression</span><span class="p">,</span> <span class="n">pgdb_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Execute an SQL query against a database. </span>
<span class="sd">            This can be used to create tables, truncate, build indexes etc.</span>
<span class="sd">            The database type must be specified in the &#39;database&#39; parameter (one of &#39;Mssql&#39; or &#39;Postgres&#39;)</span>
<span class="sd">            The default Mssql driver is &#39;SQL Server&#39; - if this needs to be overwritten, specify the parameter driver, else leave it empty.</span>
<span class="sd">            SQL statments must be trippel double-quoted - prepare the statement in the QGIS sql executor tool for testing. </span>

<span class="sd">            Args:</span>
<span class="sd">                connection (string): Name of a database connection from settings.json</span>
<span class="sd">                databasetype (string): The database type, one of &#39;Mssql&#39; or &#39;Postgres&#39;.</span>
<span class="sd">                sql_expression (string): The SQL expression to be executed. Use trippel double-quotes arraound the expression</span>
<span class="sd">                pgdb_name (string): Name of postgres database if databasetype is  Postgres. Defaults to None.</span>
<span class="sd">                driver (string): Defaults to None. The name of the Mssql driver, if &#39;SQL Server&#39; is not working.</span>

<span class="sd">            Returns:</span>
<span class="sd">                Errorcode (integer): Returns 0 if the SQL is executed without errors.</span>

<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">config</span> <span class="o">=</span> <span class="n">get_config</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">databasetype</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;Postgres&#39;</span><span class="p">,</span> <span class="s1">&#39;Mssql&#39;</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Running SQL executor on </span><span class="si">{</span><span class="n">databasetype</span><span class="si">}</span><span class="s1">&#39;</span> <span class="p">)</span>
            <span class="k">else</span> <span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unsupported database: </span><span class="si">{</span><span class="n">databasetype</span><span class="si">}</span><span class="s1">, use one of &quot;Mssql&quot; or &quot;Postgres&quot;&#39;</span> <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">dbconnection</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;DatabaseConnections&#39;</span><span class="p">][</span><span class="n">connection</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">databasetype</span> <span class="o">==</span> <span class="s1">&#39;Mssql&#39;</span><span class="p">:</span>
                    <span class="kn">import</span><span class="w"> </span><span class="nn">pyodbc</span> 
                    <span class="k">if</span> <span class="n">driver</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                        <span class="n">mssqldriver</span> <span class="o">=</span> <span class="s1">&#39;SQL Server&#39;</span>
                    <span class="k">else</span> <span class="p">:</span>
                        <span class="n">mssqldriver</span> <span class="o">=</span> <span class="s1">&#39;driver&#39;</span>
                    <span class="n">cnxn</span> <span class="o">=</span> <span class="n">pyodbc</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;DRIVER={&#39;</span><span class="o">+</span><span class="n">mssqldriver</span><span class="o">+</span><span class="s1">&#39;};Server=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;Database=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;databasename&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;User ID=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;Password=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">])</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Using connection :&quot;</span> <span class="o">+</span> <span class="s1">&#39;DRIVER={&#39;</span><span class="o">+</span><span class="n">mssqldriver</span><span class="o">+</span><span class="s1">&#39;};Server=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;Database=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;databasename&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;User ID=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;Password=xxxxxxxx&#39;</span><span class="p">)</span>
                    <span class="n">cursor</span> <span class="o">=</span> <span class="n">cnxn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Query: </span><span class="si">{</span><span class="n">sql_expression</span><span class="si">}</span><span class="s1">&#39;</span> <span class="p">)</span>
                    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_expression</span><span class="p">)</span> 
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;SQL executor finished&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="mi">0</span>

                <span class="k">if</span> <span class="n">databasetype</span> <span class="o">==</span> <span class="s1">&#39;Postgres&#39;</span><span class="p">:</span>
                    <span class="kn">import</span><span class="w"> </span><span class="nn">psycopg2</span>
                    <span class="n">connection</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">],</span> <span class="n">password</span><span class="o">=</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">],</span> <span class="n">host</span><span class="o">=</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">],</span> <span class="n">port</span><span class="o">=</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">],</span> <span class="n">database</span><span class="o">=</span><span class="n">pgdb_name</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Using connection : user=&quot;</span><span class="o">+</span> <span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;, password=xxxxxx, host=&quot;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;, port=&quot;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;, database=&quot;</span><span class="o">+</span><span class="n">pgdb_name</span> <span class="p">)</span>
                    <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Query: </span><span class="si">{</span><span class="n">sql_expression</span><span class="si">}</span><span class="s1">&#39;</span> <span class="p">)</span>
                    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_expression</span><span class="p">)</span>
                    <span class="n">connection</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
                    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                    <span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;SQL executor finished&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="mi">0</span>

            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured running SQL executor&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">mergeVectorLayers</span><span class="p">(</span><span class="n">layers</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">crs</span><span class="p">:</span> <span class="nb">str</span> <span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Combines multiple vector layers of the same geometry type into a single one.</span>
<span class="sd">            The attribute table of the resulting layer will contain the fields from all input layers. </span>
<span class="sd">            If fields with the same name but different types are found then the exported field will be automatically </span>
<span class="sd">            converted into a string type field. New fields storing the original layer name and source are also added.</span>

<span class="sd">            Optionally, the destination coordinate reference system (CRS) for the merged layer can be set. If it is </span>
<span class="sd">            not set, the CRS will be taken from the first input layer. All layers will be reprojected to match this CRS.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The layers that are to be merged into a single layer. Layers should be of the same geometry type.</span>
<span class="sd">                CRS (Crs): Choose the CRS for the output layer. If not specified, the CRS of the first input layer is used.</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Performing mergeVectorLayers&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Processing </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">layers</span><span class="p">))</span><span class="si">}</span><span class="s1"> layers&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;LAYERS&#39;</span><span class="p">:</span> <span class="n">layers</span><span class="p">,</span>
                    <span class="s1">&#39;CRS&#39;</span><span class="p">:</span><span class="n">crs</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:mergevectorlayers&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Returning &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;mergeVectorLayers finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in mergeVectorLayers&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">delete_geopacakge_layers</span><span class="p">(</span><span class="n">geopackage</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">layernames</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Deletes one or more tables from a geopackage</span>

<span class="sd">            Args:</span>
<span class="sd">                geopackage (string): The full path for the geopackage file</span>
<span class="sd">                layernames (list of strings): List of layernames to be deleted</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Performing delete_geopacakge_layer&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting layers </span><span class="si">{</span><span class="n">layernames</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">geopackage</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">layernames</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting layer </span><span class="si">{</span><span class="n">layer</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;DATABASE&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1">|layername=</span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">geopackage</span><span class="p">,</span> <span class="n">layer</span><span class="p">),</span>
                        <span class="s1">&#39;SQL&#39;</span><span class="p">:</span><span class="s1">&#39;drop table </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">layer</span><span class="p">)}</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                        <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;native:spatialiteexecutesql&quot;</span><span class="p">,</span> <span class="n">parameter</span> <span class="p">)</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Layer deleted&quot;</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Finished deleting layers&quot;</span><span class="p">)</span>


                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in delete_geopacakge_layer&quot;</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                    <span class="n">script_failed</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>    
                <span class="k">pass</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">assign_projection</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">targetEPSG</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Assign a new projection on a layer. The returned layer is precisely the same layer but assigned a new CRS.</span>

<span class="sd">            Args:</span>
<span class="sd">            layer : (QgsVectorLayer)Q The layer to be assigned a new CRS.</span>
<span class="sd">            targetEPSG (integer): The EPSG code og the target coordinate system.</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): Layer with the new projection assigned</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Assigning CRS EPSG:</span><span class="si">{</span><span class="n">targetEPSG</span><span class="si">}</span><span class="s1"> to </span><span class="si">{</span><span class="n">layer</span><span class="o">.</span><span class="n">name</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;CRS&#39;</span><span class="p">:</span> <span class="n">QgsCoordinateReferenceSystem</span><span class="p">(</span><span class="n">targetEPSG</span><span class="p">),</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;TEMPORARY_OUTPUT&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:assignprojection&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Assigning projection finished&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured assigning a new crs to layer&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">File</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        A Worker subclass that contains methods to work with the filesystem.</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">local_filename</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Downloads a file from the given URL and saves it locally.</span>

<span class="sd">            Args:</span>
<span class="sd">                url (string): The URL of the file to download</span>
<span class="sd">                local_filename (string): The local path where the file should be saved.</span>

<span class="sd">            Returns:</span>
<span class="sd">                boolean (boolean): True if download is succesful, otherwise False.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Downloading file from </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">with</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">:</span>
                    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
                    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">local_filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">8192</span><span class="p">):</span>
                            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>

                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Download completed: </span><span class="si">{</span><span class="n">local_filename</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;An error occurred when downloading the file&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>

            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">folderTruncator</span><span class="p">(</span><span class="n">folder</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Deletes all contents of a folder (files and directories), but not the folder it self.</span>

<span class="sd">            Args:</span>
<span class="sd">                folder (string): Full path to the folder to be truncated</span>

<span class="sd">            Returns:</span>
<span class="sd">                None</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Truncating folder </span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">folder</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>
                    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">:</span>
                        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Folder </span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s1"> truncated&#39;</span><span class="p">)</span>

                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured truncating folder&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">deleter</span><span class="p">(</span><span class="n">filepath</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            A worker that deletes a specific file.</span>

<span class="sd">            Args:</span>
<span class="sd">                filepath (string): The full path to the file to delete</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Deleting file </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File found and deleted&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File does not exist, skipping delete.&#39;</span><span class="p">)</span>

            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occured deleting file </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">mover</span><span class="p">(</span><span class="n">input_filepath</span> <span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">output_filepath</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Moves a file from one location to another.</span>
<span class="sd">            Can also be used for renaming.</span>

<span class="sd">            Args:</span>
<span class="sd">                input_filepath (string): The full path to the file to move </span>
<span class="sd">                output_filepath (string): The full path to the target file</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Moving file </span><span class="si">{</span><span class="n">input_filepath</span><span class="si">}</span><span class="s1"> to </span><span class="si">{</span><span class="n">output_filepath</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">input_filepath</span><span class="p">):</span>
                    <span class="n">shutil</span><span class="o">.</span><span class="n">copyfile</span><span class="p">(</span><span class="n">input_filepath</span><span class="p">,</span> <span class="n">output_filepath</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File moved&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input file does not exist, skipping move.&#39;</span><span class="p">)</span>

            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occured moving file </span><span class="si">{</span><span class="n">input_filepath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">lister</span><span class="p">(</span><span class="n">input_folder</span> <span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_extension</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Creates a python list of files with a specific extension, from an input location.</span>
<span class="sd">            Returns the full path to the files. </span>

<span class="sd">            Args:</span>
<span class="sd">                input_folder (string): The full path to teh input folder.</span>
<span class="sd">                file_extension (string): The file extension to search for.</span>

<span class="sd">            Returns:</span>
<span class="sd">                list (list of strings): A list of file paths derived from the input directory of the specified file type</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">filelist</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Building filelist of </span><span class="si">{</span><span class="n">file_extension</span><span class="si">}</span><span class="s1">-files from directory </span><span class="si">{</span><span class="n">input_folder</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">input_folder</span><span class="p">):</span>          
                    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">file</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">file_extension</span><span class="p">):</span>
                            <span class="n">filelist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">))</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">filelist</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Filelist returning </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">filelist</span><span class="p">)</span><span class="si">}</span><span class="s1"> elements&#39;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">filelist</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Returning empty filelist for destinateion </span><span class="si">{</span><span class="n">input_folder</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="p">[]</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occured listing files from folder </span><span class="si">{</span><span class="n">input_folder</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">existence_checker</span><span class="p">(</span><span class="n">input_path</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Checks if a specific file exists. Returns True if file exists, False if not.</span>

<span class="sd">            Args:</span>
<span class="sd">                input_folder (string): The full path to the input folder.</span>

<span class="sd">            Returns:</span>
<span class="sd">                boolean (boolean): True/False if file exists.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Checking if file </span><span class="si">{</span><span class="n">input_path</span><span class="si">}</span><span class="s1"> exists&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">input_path</span><span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File exists, returning True&#39;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">True</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File does not exist, returning False&#39;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occured checking if file </span><span class="si">{</span><span class="n">input_path</span><span class="si">}</span><span class="s2"> exists&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="python.engine.workers.Worker.File" class="doc doc-heading">
            <code>File</code>


</h3>


    <div class="doc doc-contents ">


        <p>A Worker subclass that contains methods to work with the filesystem.</p>






              <details class="quote">
                <summary>Source code in <code>python\engine\workers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">File</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A Worker subclass that contains methods to work with the filesystem.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">local_filename</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Downloads a file from the given URL and saves it locally.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (string): The URL of the file to download</span>
<span class="sd">            local_filename (string): The local path where the file should be saved.</span>

<span class="sd">        Returns:</span>
<span class="sd">            boolean (boolean): True if download is succesful, otherwise False.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Downloading file from </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">:</span>
                <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">local_filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">8192</span><span class="p">):</span>
                        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Download completed: </span><span class="si">{</span><span class="n">local_filename</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;An error occurred when downloading the file&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">folderTruncator</span><span class="p">(</span><span class="n">folder</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes all contents of a folder (files and directories), but not the folder it self.</span>

<span class="sd">        Args:</span>
<span class="sd">            folder (string): Full path to the folder to be truncated</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Truncating folder </span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">folder</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">:</span>
                    <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Folder </span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s1"> truncated&#39;</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured truncating folder&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">deleter</span><span class="p">(</span><span class="n">filepath</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A worker that deletes a specific file.</span>

<span class="sd">        Args:</span>
<span class="sd">            filepath (string): The full path to the file to delete</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Deleting file </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File found and deleted&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File does not exist, skipping delete.&#39;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occured deleting file </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">mover</span><span class="p">(</span><span class="n">input_filepath</span> <span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">output_filepath</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Moves a file from one location to another.</span>
<span class="sd">        Can also be used for renaming.</span>

<span class="sd">        Args:</span>
<span class="sd">            input_filepath (string): The full path to the file to move </span>
<span class="sd">            output_filepath (string): The full path to the target file</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Moving file </span><span class="si">{</span><span class="n">input_filepath</span><span class="si">}</span><span class="s1"> to </span><span class="si">{</span><span class="n">output_filepath</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">input_filepath</span><span class="p">):</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">copyfile</span><span class="p">(</span><span class="n">input_filepath</span><span class="p">,</span> <span class="n">output_filepath</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File moved&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input file does not exist, skipping move.&#39;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occured moving file </span><span class="si">{</span><span class="n">input_filepath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">lister</span><span class="p">(</span><span class="n">input_folder</span> <span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_extension</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a python list of files with a specific extension, from an input location.</span>
<span class="sd">        Returns the full path to the files. </span>

<span class="sd">        Args:</span>
<span class="sd">            input_folder (string): The full path to teh input folder.</span>
<span class="sd">            file_extension (string): The file extension to search for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list (list of strings): A list of file paths derived from the input directory of the specified file type</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">filelist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Building filelist of </span><span class="si">{</span><span class="n">file_extension</span><span class="si">}</span><span class="s1">-files from directory </span><span class="si">{</span><span class="n">input_folder</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">input_folder</span><span class="p">):</span>          
                <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">file</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">file_extension</span><span class="p">):</span>
                        <span class="n">filelist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">))</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">filelist</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Filelist returning </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">filelist</span><span class="p">)</span><span class="si">}</span><span class="s1"> elements&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">filelist</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Returning empty filelist for destinateion </span><span class="si">{</span><span class="n">input_folder</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occured listing files from folder </span><span class="si">{</span><span class="n">input_folder</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">existence_checker</span><span class="p">(</span><span class="n">input_path</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a specific file exists. Returns True if file exists, False if not.</span>

<span class="sd">        Args:</span>
<span class="sd">            input_folder (string): The full path to the input folder.</span>

<span class="sd">        Returns:</span>
<span class="sd">            boolean (boolean): True/False if file exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Checking if file </span><span class="si">{</span><span class="n">input_path</span><span class="si">}</span><span class="s1"> exists&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">input_path</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File exists, returning True&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File does not exist, returning False&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occured checking if file </span><span class="si">{</span><span class="n">input_path</span><span class="si">}</span><span class="s2"> exists&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.File.deleter" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">deleter</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>A worker that deletes a specific file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filepath</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The full path to the file to delete</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">deleter</span><span class="p">(</span><span class="n">filepath</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A worker that deletes a specific file.</span>

<span class="sd">    Args:</span>
<span class="sd">        filepath (string): The full path to the file to delete</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Deleting file </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File found and deleted&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File does not exist, skipping delete.&#39;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occured deleting file </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.File.download_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">local_filename</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Downloads a file from the given URL and saves it locally.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>url</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The URL of the file to download</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>local_filename</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The local path where the file should be saved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>boolean</code></td>            <td>
                  <code>boolean</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if download is succesful, otherwise False.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">local_filename</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Downloads a file from the given URL and saves it locally.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (string): The URL of the file to download</span>
<span class="sd">        local_filename (string): The local path where the file should be saved.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boolean (boolean): True if download is succesful, otherwise False.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Downloading file from </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">:</span>
            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">local_filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">8192</span><span class="p">):</span>
                    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Download completed: </span><span class="si">{</span><span class="n">local_filename</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;An error occurred when downloading the file&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.File.existence_checker" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">existence_checker</span><span class="p">(</span><span class="n">input_path</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Checks if a specific file exists. Returns True if file exists, False if not.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_folder</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The full path to the input folder.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>boolean</code></td>            <td>
                  <code>boolean</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True/False if file exists.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">existence_checker</span><span class="p">(</span><span class="n">input_path</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if a specific file exists. Returns True if file exists, False if not.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_folder (string): The full path to the input folder.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boolean (boolean): True/False if file exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Checking if file </span><span class="si">{</span><span class="n">input_path</span><span class="si">}</span><span class="s1"> exists&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">input_path</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File exists, returning True&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File does not exist, returning False&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occured checking if file </span><span class="si">{</span><span class="n">input_path</span><span class="si">}</span><span class="s2"> exists&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.File.folderTruncator" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">folderTruncator</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Deletes all contents of a folder (files and directories), but not the folder it self.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>folder</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Full path to the folder to be truncated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">folderTruncator</span><span class="p">(</span><span class="n">folder</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Deletes all contents of a folder (files and directories), but not the folder it self.</span>

<span class="sd">    Args:</span>
<span class="sd">        folder (string): Full path to the folder to be truncated</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Truncating folder </span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">folder</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">:</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Folder </span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s1"> truncated&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured truncating folder&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.File.lister" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lister</span><span class="p">(</span><span class="n">input_folder</span><span class="p">,</span> <span class="n">file_extension</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Creates a python list of files with a specific extension, from an input location.
Returns the full path to the files. </p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_folder</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The full path to teh input folder.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>file_extension</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file extension to search for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>list</code></td>            <td>
                  <code>list of strings</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of file paths derived from the input directory of the specified file type</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">lister</span><span class="p">(</span><span class="n">input_folder</span> <span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_extension</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a python list of files with a specific extension, from an input location.</span>
<span class="sd">    Returns the full path to the files. </span>

<span class="sd">    Args:</span>
<span class="sd">        input_folder (string): The full path to teh input folder.</span>
<span class="sd">        file_extension (string): The file extension to search for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list (list of strings): A list of file paths derived from the input directory of the specified file type</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">filelist</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Building filelist of </span><span class="si">{</span><span class="n">file_extension</span><span class="si">}</span><span class="s1">-files from directory </span><span class="si">{</span><span class="n">input_folder</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">input_folder</span><span class="p">):</span>          
            <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">file</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">file_extension</span><span class="p">):</span>
                    <span class="n">filelist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">filelist</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Filelist returning </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">filelist</span><span class="p">)</span><span class="si">}</span><span class="s1"> elements&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">filelist</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Returning empty filelist for destinateion </span><span class="si">{</span><span class="n">input_folder</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occured listing files from folder </span><span class="si">{</span><span class="n">input_folder</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.File.mover" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">mover</span><span class="p">(</span><span class="n">input_filepath</span><span class="p">,</span> <span class="n">output_filepath</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Moves a file from one location to another.
Can also be used for renaming.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_filepath</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The full path to the file to move </p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_filepath</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The full path to the target file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">mover</span><span class="p">(</span><span class="n">input_filepath</span> <span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">output_filepath</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Moves a file from one location to another.</span>
<span class="sd">    Can also be used for renaming.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_filepath (string): The full path to the file to move </span>
<span class="sd">        output_filepath (string): The full path to the target file</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Moving file </span><span class="si">{</span><span class="n">input_filepath</span><span class="si">}</span><span class="s1"> to </span><span class="si">{</span><span class="n">output_filepath</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">input_filepath</span><span class="p">):</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copyfile</span><span class="p">(</span><span class="n">input_filepath</span><span class="p">,</span> <span class="n">output_filepath</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;File moved&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input file does not exist, skipping move.&#39;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occured moving file </span><span class="si">{</span><span class="n">input_filepath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="python.engine.workers.Worker.Vector" class="doc doc-heading">
            <code>Vector</code>


</h3>


    <div class="doc doc-contents ">


        <p>A Worker subclass that contains methods to transform vector data or their attributes.</p>






              <details class="quote">
                <summary>Source code in <code>python\engine\workers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  42</span>
<span class="normal">  43</span>
<span class="normal">  44</span>
<span class="normal">  45</span>
<span class="normal">  46</span>
<span class="normal">  47</span>
<span class="normal">  48</span>
<span class="normal">  49</span>
<span class="normal">  50</span>
<span class="normal">  51</span>
<span class="normal">  52</span>
<span class="normal">  53</span>
<span class="normal">  54</span>
<span class="normal">  55</span>
<span class="normal">  56</span>
<span class="normal">  57</span>
<span class="normal">  58</span>
<span class="normal">  59</span>
<span class="normal">  60</span>
<span class="normal">  61</span>
<span class="normal">  62</span>
<span class="normal">  63</span>
<span class="normal">  64</span>
<span class="normal">  65</span>
<span class="normal">  66</span>
<span class="normal">  67</span>
<span class="normal">  68</span>
<span class="normal">  69</span>
<span class="normal">  70</span>
<span class="normal">  71</span>
<span class="normal">  72</span>
<span class="normal">  73</span>
<span class="normal">  74</span>
<span class="normal">  75</span>
<span class="normal">  76</span>
<span class="normal">  77</span>
<span class="normal">  78</span>
<span class="normal">  79</span>
<span class="normal">  80</span>
<span class="normal">  81</span>
<span class="normal">  82</span>
<span class="normal">  83</span>
<span class="normal">  84</span>
<span class="normal">  85</span>
<span class="normal">  86</span>
<span class="normal">  87</span>
<span class="normal">  88</span>
<span class="normal">  89</span>
<span class="normal">  90</span>
<span class="normal">  91</span>
<span class="normal">  92</span>
<span class="normal">  93</span>
<span class="normal">  94</span>
<span class="normal">  95</span>
<span class="normal">  96</span>
<span class="normal">  97</span>
<span class="normal">  98</span>
<span class="normal">  99</span>
<span class="normal"> 100</span>
<span class="normal"> 101</span>
<span class="normal"> 102</span>
<span class="normal"> 103</span>
<span class="normal"> 104</span>
<span class="normal"> 105</span>
<span class="normal"> 106</span>
<span class="normal"> 107</span>
<span class="normal"> 108</span>
<span class="normal"> 109</span>
<span class="normal"> 110</span>
<span class="normal"> 111</span>
<span class="normal"> 112</span>
<span class="normal"> 113</span>
<span class="normal"> 114</span>
<span class="normal"> 115</span>
<span class="normal"> 116</span>
<span class="normal"> 117</span>
<span class="normal"> 118</span>
<span class="normal"> 119</span>
<span class="normal"> 120</span>
<span class="normal"> 121</span>
<span class="normal"> 122</span>
<span class="normal"> 123</span>
<span class="normal"> 124</span>
<span class="normal"> 125</span>
<span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Vector</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A Worker subclass that contains methods to transform vector data or their attributes.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">attributeindex</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an index to speed up queries made against a field in a table.</span>
<span class="sd">        Support for index creation is dependent on the layer&#39;s data provider and the field type.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">            field (string): The field to base the index on</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Crating attribute index on &quot;</span> <span class="o">+</span> <span class="n">layer</span> <span class="o">+</span> <span class="s2">&quot; on filed &quot;</span> <span class="o">+</span> <span class="n">field</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">field</span><span class="p">,</span>
                <span class="s1">&#39;FIELD&#39;</span><span class="p">:</span> <span class="n">field</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
            <span class="p">}</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:createattributeindex&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;createattributeindex  finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in createattributeindex&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">addxyfieldstolayer</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">crs</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds X and Y (or latitude/longitude) fields to a point layer. The X/Y fields can be calculated in a different CRS to the layer (e.g. creating latitude/longitude fields for a layer in a projected CRS).</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The input layer.</span>
<span class="sd">            crs (string): Coordinate reference system to use for the generated x and y fields.</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): Specify the output layer.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Adding X/Y fields to </span><span class="si">{</span><span class="n">layer</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;CRS&#39;</span><span class="p">:</span> <span class="n">crs</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_addxyfieldstolayer&#39;</span>
            <span class="p">}</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:addxyfieldstolayer&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;addxyfieldstolayer  finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in addxyfieldstolayer&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">convexhull</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the convex hull for each feature in an input layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): Input vector layer</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): Specify the output vector layer.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Calculating convexhull for layer </span><span class="si">{</span><span class="n">layer</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_convexhull&#39;</span>
            <span class="p">}</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:convexhull&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;convexhull  finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in convexhull&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">concavehull</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span><span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">alpha</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">holes</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">multigeom</span><span class="p">:</span> <span class="nb">bool</span> <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the concave hull of the features from an input point layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            inputlayer (QgsVectorLayer): Input point vector layer</span>
<span class="sd">            alpha (float): Number from 0 (maximum concave hull) to 1 (convex hull).</span>
<span class="sd">            holes (boolean): Choose whether to allow holes in the final concave hull</span>
<span class="sd">            multigeom (boolean): Check if you want to have singlepart geometries instead of multipart ones.</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): Specify the output vector layer</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;calcualting concavehull&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                <span class="s1">&#39;ALPHA&#39;</span> <span class="p">:</span> <span class="n">alpha</span><span class="p">,</span>
                <span class="s1">&#39;HOLES&#39;</span> <span class="p">:</span> <span class="n">holes</span><span class="p">,</span>
                <span class="s1">&#39;NO_MULTIGEOMETRY&#39;</span> <span class="p">:</span> <span class="n">multigeom</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_concavehull&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:concavehull&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;concavehull finished&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in concavehull&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>            

    <span class="k">def</span><span class="w"> </span><span class="nf">extractvertices</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span><span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes a vector layer and generates a point layer with points representing the vertices in the input geometries.</span>
<span class="sd">        The attributes associated to each point are the same ones associated to the feature that the vertex belongs to.</span>
<span class="sd">        Additional fields are added to the vertices indicating the vertex index (beginning at 0), the feature’s part and its index within the part</span>
<span class="sd">        (as well as its ring for polygons), distance along original geometry and bisector angle of vertex for original geometry.</span>

<span class="sd">        Args:</span>
<span class="sd">            inputlayer (QgsVectorLayer): Input vector layer</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): Specify the output vector layer</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Extracting vertices&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_extractvertices&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:extractvertices&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;extractvertices finished&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in extractvertices&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>    

    <span class="k">def</span><span class="w"> </span><span class="nf">multiringconstantbuffer</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span><span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">rings</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">distance</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes multi-ring (donut) buffer for the features of the input layer, using a fixed or dynamic distance and number of rings.</span>

<span class="sd">        Args:</span>
<span class="sd">            inputlayer (QgsVectorLayer): Input vector layer</span>
<span class="sd">            rings (integer): The number of rings. It can be a unique value (same number of rings for all the features) or it can be taken from features data (the number of rings depends on feature values).</span>
<span class="sd">            distance (string): Distance between the rings. It can be a unique value (same distance for all the features) or it can be taken from features data (a field in the input data layer).</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): Specify the output polygon vector layer</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Creating multiringconstantbuffer&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">dist</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Using distance value&#39;</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">dist</span> <span class="o">=</span> <span class="n">QgsProperty</span><span class="o">.</span><span class="n">fromExpression</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">distance</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Using distance from field&#39;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                <span class="s1">&#39;RINGS&#39;</span><span class="p">:</span> <span class="n">rings</span><span class="p">,</span>
                <span class="s1">&#39;DISTANCE&#39;</span><span class="p">:</span> <span class="n">distance</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_multiringconstantbuffer&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:multiringconstantbuffer&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;multiringconstantbuffer finished&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in multiringconstantbuffer&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span> 

    <span class="k">def</span><span class="w"> </span><span class="nf">poleofinaccessibility</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span><span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the pole of inaccessibility for a polygon layer, which is the most distant internal point from the boundary of the surface. </span>
<span class="sd">        This algorithm uses the ‘polylabel’ algorithm (Vladimir Agafonkin, 2016), which is an iterative approach guaranteed to find the true pole of inaccessibility within</span>
<span class="sd">        a specified tolerance. A more precise tolerance (lower value) requires more iterations and will take longer to calculate. </span>
<span class="sd">        The distance from the calculated pole to the polygon boundary will be stored as a new attribute in the output layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            inputlayer (QgsVectorLayer): Input vector layer</span>
<span class="sd">            tolerance (integer): Set the tolerance for the calculation. Default 1</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): Specify the output polygon vector layer.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;calcualting poleofinaccessibility&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                <span class="s1">&#39;TOLERANCE&#39;</span> <span class="p">:</span> <span class="n">tolerance</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_poleofinaccessibility&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:poleofinaccessibility&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;poleofinaccessibility finished&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in poleofinaccessibility&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">symmetricaldifference</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">overlay_layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a layer containing features from both the input and overlay layers but with the overlapping areas between the two layers removed.</span>
<span class="sd">        The attribute table of the symmetrical difference layer contains attributes and fields from both the input and overlay layers.</span>

<span class="sd">        Args:</span>
<span class="sd">            inputlayer (QgsVectorLayer): First layer to extract (parts of) features from.</span>
<span class="sd">            overlay_layer (QgsVectorLayer): Second layer to extract (parts of) features from. Ideally the geometry type should be the same as input layer.</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): Specify the layer to contain (the parts of) the features from the input and overlay layers that do not overlap features from the other layer</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;calcualting symetrical difference&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                <span class="s1">&#39;OVERLAY&#39;</span> <span class="p">:</span> <span class="n">overlay_layer</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_symmetricaldifference&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:symmetricaldifference&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Symmetricaldifference finished&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in symmetricaldifference&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">lineintersections</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">split_layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">input_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">intersect_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Splits the lines or polygons in one layer using the lines or polygon rings in another layer to define the breaking points. Intersection between geometries in both layers are considered as split points.</span>
<span class="sd">        Output will contain multi geometries for split features.</span>

<span class="sd">        Args:</span>
<span class="sd">            inputlayer (QgsVectorLayer): Input line layer.</span>
<span class="sd">            split_layer (QgsVectorLayer): Layer to use to find line intersections.</span>
<span class="sd">            input_fields (list of strings): Field(s) of the input layer to keep in the output. If no fields are chosen all fields are taken.</span>
<span class="sd">            intersect_fields (list of strings): Field(s) of the intersect layer to keep in the output. If no fields are chosen all fields are taken. Duplicate field names will be appended a count suffix to avoid collision</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): Specify the layer to contain the intersection points of the lines from the input and overlay layers.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Performing line intersections&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                <span class="s1">&#39;INTERSECT&#39;</span><span class="p">:</span> <span class="n">split_layer</span><span class="p">,</span>
                <span class="s1">&#39;INPUT_FIELDS&#39;</span> <span class="p">:</span> <span class="n">input_fields</span><span class="p">,</span> 
                <span class="s1">&#39;INTERSECT_FIELDS&#39;</span> <span class="p">:</span> <span class="n">intersect_fields</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_lineintersections&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:lineintersections&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Lineintersections finished&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Lineintersections&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">kmeansclustering</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">clusters</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the 2D distance based k-means cluster number for each input feature.</span>
<span class="sd">        K-means clustering aims to partition the features into k clusters in which each feature belongs to the cluster with the nearest mean. The mean point is represented by the barycenter of the clustered features.</span>
<span class="sd">        If input geometries are lines or polygons, the clustering is based on the centroid of the feature.</span>

<span class="sd">        Args:</span>
<span class="sd">            inputlayer (QgsVectorLayer): Layer to analyze</span>
<span class="sd">            clusters (integer): Number of clusters to create with the features</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): Specify the output vector layer for generated the clusters.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Calculating clusters&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                <span class="s1">&#39;CLUSTERS&#39;</span> <span class="p">:</span> <span class="n">clusters</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_kmeansclustering&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:kmeansclustering&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Kmeansclustering finished&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Kmeansclustering&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">dbscanclustering</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">min_clusters</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">max_dist</span><span class="p">:</span> <span class="nb">int</span> <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clusters point features based on a 2D implementation of Density-based spatial clustering of applications with noise (DBSCAN) algorithm.</span>
<span class="sd">        The algorithm requires two parameters, a minimum cluster size, and the maximum distance allowed between clustered points.</span>

<span class="sd">        Args:</span>
<span class="sd">            inputlayer (QgsVectorLayer): Layer to analyze</span>
<span class="sd">            min_clusters (integer): Minimum number of features to generate a cluster</span>
<span class="sd">            max_dist (integer): Distance beyond which two features can not belong to the same cluster (eps)</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): Specify the vector layer for the result of the clustering.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Performing DBScan clustering&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
                <span class="s1">&#39;MIN_SIZE&#39;</span> <span class="p">:</span> <span class="n">min_clusters</span><span class="p">,</span>
                <span class="s1">&#39;EPS&#39;</span><span class="p">:</span> <span class="n">max_dist</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_dbscanclustering&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:dbscanclustering&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Dbscanclustering finished&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Dbscanclustering&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">countpointsinpolygon</span><span class="p">(</span><span class="n">polygons</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">points</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">weight</span> <span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes a point and a polygon layer and counts the number of points from the point layer in each of the polygons of the polygon layer.</span>
<span class="sd">        A new polygon layer is generated, with the exact same content as the input polygon layer, but containing an additional field with the points count corresponding to each polygon.</span>

<span class="sd">        Args:</span>
<span class="sd">            polygons (QgsVectorLayer): Polygon layer whose features are associated with the count of points they contain</span>
<span class="sd">            points (QgsVectorLayer): Point layer with features to count</span>
<span class="sd">            weight (string): A field from the point layer. The count generated will be the sum of the weight field of the points contained by the polygon. If the weight field is not numeric, the count will be 0.</span>
<span class="sd">            fieldname (string): The name of the field to store the count of points</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): Specification of the output layer.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Conducting point in polygon&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">weight</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">weight</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;POLYGONS&#39;</span><span class="p">:</span> <span class="n">polygons</span><span class="p">,</span>
                <span class="s1">&#39;POINTS&#39;</span><span class="p">:</span> <span class="n">points</span><span class="p">,</span>
                <span class="s1">&#39;WEIGHT&#39;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span>
                <span class="s1">&#39;FIELD&#39;</span> <span class="p">:</span> <span class="n">fieldname</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_countpointsinpolygon&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:Countpointsinpolygon&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Promote to multipart finished&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Countpointsinpolygon&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>  

    <span class="k">def</span><span class="w"> </span><span class="nf">promoteToMultipart</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates a vectorlayer in which all geometries are multipart.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer that is used as input.</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer containing multi geometries.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Collecting geometries&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:multipart&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:promotetomulti&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Promote to multipart finished&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in promoteToMultipart&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">extractByExpression</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">expression</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a vector layer from an input layer, containing only matching features.</span>
<span class="sd">        The criteria for adding features to the resulting layer is based on a QGIS expression.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer that is used as input.</span>
<span class="sd">            expression (string): Expression to filter the vector layer</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer output layer.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting by expression&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;EXPRESSION&#39;</span><span class="p">:</span> <span class="n">expression</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:extractbyexpression&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extractbyexpression  finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in extractByExpression&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">renameTableField</span> <span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">newname</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Renames an existing field from a vector layer.  </span>
<span class="sd">        The original layer is not modified. A new layer is generated where the attribute table contains the renamed field.</span>
<span class="sd">        QGIS processing algorithem: native:renametablefield</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">            field (string): The field that is to be renamed</span>
<span class="sd">            newname (string): New name for the field</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Renaming field&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;FIELD&#39;</span><span class="p">:</span> <span class="n">field</span><span class="p">,</span>
                <span class="s1">&#39;NEW_NAME&#39;</span><span class="p">:</span> <span class="n">newname</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
            <span class="p">}</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:renametablefield&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;renameTableField  finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in renameTableField&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">timeStamper</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">ts_fieldname</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an attribute woth current timestamp on features.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">            ts_fieldname (string): The name of the new timestamp field</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Creating timestamp </span><span class="si">{</span><span class="n">ts_fieldname</span><span class="si">}</span><span class="s1"> using fieldCalculator&#39;</span><span class="p">)</span>
        <span class="n">newLayer</span> <span class="o">=</span> <span class="n">Worker</span><span class="o">.</span><span class="n">fieldCalculator</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">ts_fieldname</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39; now() &#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">newLayer</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">fieldCalculator</span> <span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">fieldtype</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">fieldlength</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">fieldprecision</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">formula</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Scripting the field calcualtor</span>
<span class="sd">        You can use all the supported expressions and functions.</span>
<span class="sd">        The original layer is not modified. A new layer is generated where the attribute table contains the calucalted field</span>
<span class="sd">        QGIS processing algorithem: native:fieldcalculator</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">            fieldname (string): The name of the new calcualted field</span>
<span class="sd">            fieldtype (integer): Type of the field,  Default: 0  (0 — Float, 1 — Integer, 2 — String, 3 — Date)</span>
<span class="sd">            fieldlength (integer): Lenght of the field, Default: 10.</span>
<span class="sd">            fieldprecision (integer): Precision of the field, Default: 3.</span>
<span class="sd">            formula (string): The expression that populates the values of the field.</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Calculating field&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;FIELD_NAME&#39;</span><span class="p">:</span> <span class="n">fieldname</span><span class="p">,</span>
                <span class="s1">&#39;FIELD_TYPE&#39;</span><span class="p">:</span> <span class="n">fieldtype</span><span class="p">,</span>
                <span class="s1">&#39;FIELD_LENGTH&#39;</span><span class="p">:</span> <span class="n">fieldlength</span><span class="p">,</span>
                <span class="s1">&#39;FIELD_PRECISION&#39;</span><span class="p">:</span> <span class="n">fieldprecision</span><span class="p">,</span>
                <span class="s1">&#39;FORMULA&#39;</span><span class="p">:</span> <span class="n">formula</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
            <span class="p">}</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:fieldcalculator&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;fieldCalculator  finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in fieldCalculator&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">deleteColumns</span> <span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes a vector layer and generates a new one that has the same features but without the selected columns.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): Input vector layer to drop field(s) from</span>
<span class="sd">            columns (list of strings): The field(s) to drop</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer output layer.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;deleting fields&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;COLUMN&#39;</span><span class="p">:</span><span class="n">columns</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
            <span class="p">}</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:deletecolumn&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;deleteColumns  finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in deleteColumns&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">addAutoIncrementalField</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a new integer field to a vector layer, with a sequential value for each feature.</span>
<span class="sd">        This field can be used as a unique ID for features in the layer. The new attribute is not added to the input layer but a new layer is generated instead.</span>
<span class="sd">        The initial starting value for the incremental series can be specified. Optionally, the incremental series can be based on grouping </span>
<span class="sd">        fields and a sort order for features can also be specified.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer that is used as input.</span>
<span class="sd">            fieldname (string): Name of the field with autoincremental values.</span>
<span class="sd">            start (integer): Choose the initial number of the incremental count, Default: 0.</span>

<span class="sd">        Returns</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer output layer.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Adding incremental field&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;FIELD_NAME&#39;</span><span class="p">:</span> <span class="n">fieldname</span><span class="p">,</span>
                <span class="s1">&#39;START&#39;</span><span class="p">:</span><span class="n">start</span><span class="p">,</span>
                <span class="s1">&#39;MODULUS&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;GROUP_FIELDS&#39;</span><span class="p">:[],</span>
                <span class="s1">&#39;SORT_EXPRESSION&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                <span class="s1">&#39;SORT_ASCENDING&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span>
                <span class="s1">&#39;SORT_NULLS_FIRST&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
            <span class="p">}</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:addautoincrementalfield&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;addAutoIncrementalField  finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in addAutoIncrementalField&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">spatialindex</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an index to speed up access to the features in a layer based on their spatial location.</span>
<span class="sd">        Support for spatial index creation is dependent on the layer&#39;s data provider.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Crating spatial index on &quot;</span> <span class="o">+</span> <span class="n">layer</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
            <span class="p">}</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:createspatialindex&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;createspatialindex  finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in createspatialindex&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clip</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">overlay</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clips a vector layer using the features of an additional polygon layer.</span>
<span class="sd">        Only the parts of the features in the input layer that fall within the polygons of </span>
<span class="sd">        the overlay layer will be added to the resulting layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): Layer containing the features to be clipped</span>
<span class="sd">            overlay (QgsVectorLayer): Layer containing the clipping features</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): Layer to contain the features from the input layer that are inside the overlay (clipping) layer</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Clipping layers&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;OVERLAY&#39;</span><span class="p">:</span> <span class="n">overlay</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:clip&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Clip  finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Clip&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">joinByLocation</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">predicate</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">join</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">join_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">discard_nomatching</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes an input vector layer and creates a new vector layer that is an extended version of</span>
<span class="sd">        the input one, with additional attributes in its attribute table.</span>
<span class="sd">        The additional attributes and their values are taken from a second vector layer.</span>
<span class="sd">        A spatial criteria is applied to select the values from the second layer that are added to each </span>
<span class="sd">        feature from the first layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): Input vector layer. The output layer will consist of the features of this layer with attributes from matching features in the second layer.</span>
<span class="sd">            predicate (integer): Type of spatial relation the source feature should have with the target feature so that they could be joined. One or more of: 0 — intersect, 1 — contain, 2 — equal, 3 — touch, 4 — overlap, 5 — are within 6 — cross.</span>
<span class="sd">            join (QgsVectorLayer): The join layer. Features of this vector layer will add their attributes to the source layer attribute table if they satisfy the spatial relationship.</span>
<span class="sd">            join_fields (list of strings): Select the specific fields you want to add from the join layer. By default all the fields are added.</span>
<span class="sd">            method (integer): The type of the final joined layer. One of: 0 — Create separate feature for each matching feature (one-to-many) 1 — Take attributes of the first matching feature only (one-to-one) 2 — Take attributes of the feature with largest overlap only (one-to-one)</span>
<span class="sd">            discard_nomatching (boolean): Remove from the output the input layer’s features which could not be joined</span>
<span class="sd">            prefix (string): Add a prefix to joined fields in order to easily identify them and avoid field name collision</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): the output vector layer for the join.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Clipping layers&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;PREDICATE&#39;</span><span class="p">:</span><span class="n">predicate</span><span class="p">,</span>
                <span class="s1">&#39;JOIN&#39;</span><span class="p">:</span><span class="n">join</span><span class="p">,</span>
                <span class="s1">&#39;JOIN_FIELDS&#39;</span><span class="p">:</span><span class="n">join_fields</span><span class="p">,</span>
                <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
                <span class="s1">&#39;DISCARD_NONMATCHING&#39;</span><span class="p">:</span><span class="n">discard_nomatching</span><span class="p">,</span>
                <span class="s1">&#39;PREFIX&#39;</span><span class="p">:</span><span class="n">prefix</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:joinattributesbylocation&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;joinByLocation finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in joinByLocation&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">extractByLocation</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">predicate</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">intersect</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;_summary_</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): Input vector layer. </span>
<span class="sd">            predicate (integer): Type of spatial relation the source feature should have with the target feature so that they could be joined. One or more of: 0 — intersect, 1 — contain, 2 — equal, 3 — touch, 4 — overlap, 5 — are within 6 — cross.</span>
<span class="sd">            intersect (QgsVectorLayer): Intersection vector layer</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): the output vector layer for the join.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting by location&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;PREDICATE&#39;</span><span class="p">:</span><span class="n">predicate</span><span class="p">,</span>
                <span class="s1">&#39;INTERSECT&#39;</span><span class="p">:</span><span class="n">intersect</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:extractbylocation&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;extractByLocation finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in extractByLocation&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">randomExtract</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes a vector layer and generates a new one that contains only a subset of the features in the input layer.</span>
<span class="sd">        The subset is defined randomly, based on feature IDs, using a percentage or count value to define </span>
<span class="sd">        the total number of features in the subset.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): Input vector layer. </span>
<span class="sd">            method (integer): Random selection method. One of: 0 — Number of selected features 1 — Percentage of selected features</span>
<span class="sd">            number (integer): Number or percentage of features to select</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting random features&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
                <span class="s1">&#39;NUMBER&#39;</span><span class="p">:</span><span class="n">number</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:randomextract&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;randomExtract finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in randomExtract&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">difference</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">overlay</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extracts features from the input layer that don’t fall within the boundaries of the overlay layer.</span>
<span class="sd">        Input layer features that partially overlap the overlay layer feature(s) are split along the </span>
<span class="sd">        boundary of those feature(s.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): Layer to extract (parts of) features from.</span>
<span class="sd">            overlay (QgsVectorLayer): Layer containing the geometries that will be subtracted from the iniput layer geometries</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finding differences&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;OVERLAY&#39;</span><span class="p">:</span> <span class="n">overlay</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:difference&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Difference  finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Difference&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">reproject</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">targetEPSG</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reprojects a vector layer in a different CRS.</span>
<span class="sd">        The reprojected layer will have the same features and attributes of the input layer.</span>
<span class="sd">        QGIS processing algorithem: native:reprojectlayer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">            targetEPSG (integer): The EPSG code og the target coordinate system.</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Running reporjector V2&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;TARGET_CRS&#39;</span><span class="p">:</span> <span class="n">QgsCoordinateReferenceSystem</span><span class="p">(</span><span class="n">targetEPSG</span><span class="p">),</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:Reprojected&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:reprojectlayer&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Reproject finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured reprojectiong layer&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">simplify</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">:</span><span class="nb">int</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Simplifies the geometries in a line or polygon layer. </span>
<span class="sd">            It creates a new layer with the same features as the ones in the input layer, but with geometries containing a lower number of vertices.</span>
<span class="sd">            QGIS processing algorithem: native:simplifygeometries.</span>

<span class="sd">            Args:</span>
<span class="sd">                layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">                method (integer): Simplification method. One of: 0 — Distance (Douglas-Peucker), 1 — Snap to grid, 2 — Area (Visvalingam)</span>
<span class="sd">                tolerance (integer): Threshold tolerance (in units of the layer): if the distance between two nodes is smaller than the tolerance value, the segment will be simplified and vertices will be removed.</span>

<span class="sd">            Returns:</span>
<span class="sd">                layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Running simplify&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                    <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
                    <span class="s1">&#39;TOLERANCE&#39;</span><span class="p">:</span><span class="n">tolerance</span><span class="p">,</span>
                    <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:simplify&#39;</span>
                <span class="p">}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:simplifygeometries&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Simplifygeometries finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in simplifygeometries&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">forceRHR</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Forces polygon geometries to respect the Right-Hand-Rule, in which the area that is bounded</span>
<span class="sd">        by a polygon is to the right of the boundary. </span>
<span class="sd">        In particular, the exterior ring is oriented in a clockwise direction and any interior</span>
<span class="sd">        rings in a counter-clockwise direction.</span>
<span class="sd">        QGIS processing algorithem: native:forcerhr</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Running force right-hand rule&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:forced&#39;</span>
            <span class="p">}</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:forcerhr&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;forceRHR finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in forceRHR&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">join_by_attribute</span><span class="p">(</span><span class="n">layer1</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">layer1_field</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">layer2</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">layer2_field</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">fields_to_copy</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">discard</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes an input vector layer and creates a new vector layer that is an extended version of the input one, </span>
<span class="sd">        with additional attributes in its attribute table.</span>
<span class="sd">        The additional attributes and their values are taken from a second vector layer. An attribute is selected in each of them </span>
<span class="sd">        to define the join criteria.</span>
<span class="sd">        QGIS processing algorithem: native:joinattributestable.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer1 (QgsVectorLayer): The 1. QgsVectorLayer input for the algorithem</span>
<span class="sd">            layer1_field (string): Field of the source layer to use for the join</span>
<span class="sd">            layer2 (QgsVectorLayer): The 2. QgsVectorLayer input for the algorithem</span>
<span class="sd">            layer2_field (string): Field of the source layer to use for the join</span>
<span class="sd">            fields_to_copy (list of strings): Select the specific fields you want to add. By default all the fields are added. Default []</span>
<span class="sd">            method (integer): The type of the final joined layer. One of: 0 — Create separate feature for each matching feature (one-to-many) 1 — Take attributes of the first matching feature only (one-to-one)</span>
<span class="sd">            discard (boolean): Check if you don’t want to keep the features that could not be joined</span>
<span class="sd">            prefix (string): Add a prefix to joined fields in order to easily identify them and avoid field name collision</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Joining features features&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer1</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer1</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span><span class="n">layer1</span><span class="p">,</span>
                <span class="s1">&#39;FIELD&#39;</span><span class="p">:</span><span class="n">layer1_field</span><span class="p">,</span>
                <span class="s1">&#39;INPUT_2&#39;</span><span class="p">:</span><span class="n">layer2</span><span class="p">,</span>
                <span class="s1">&#39;FIELD_2&#39;</span><span class="p">:</span><span class="n">layer2_field</span><span class="p">,</span>
                <span class="s1">&#39;FIELDS_TO_COPY&#39;</span><span class="p">:</span><span class="n">fields_to_copy</span><span class="p">,</span>
                <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
                <span class="s1">&#39;DISCARD_NONMATCHING&#39;</span><span class="p">:</span><span class="n">discard</span><span class="p">,</span>
                <span class="s1">&#39;PREFIX&#39;</span><span class="p">:</span><span class="n">prefix</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:joined&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:joinattributestable&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Joinattributestable finished&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Returning &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in joinattributestable&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">dissolveFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">fieldList</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">disjoined</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes a vector layer and combines its features into new features. </span>
<span class="sd">        One or more attributes can be specified to dissolve features belonging to the same class </span>
<span class="sd">        (having the same value for the specified attributes), alternatively all features can be dissolved to a single feature.</span>
<span class="sd">        All output geometries will be converted to multi geometries. </span>
<span class="sd">        QGIS processing algorithem: native:dissolve.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">            fieldList (list of strings): List of fields to dissolve on. Default []</span>
<span class="sd">            disjoined (boolean): Keep disjoint features separate ? Default: False</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Dissolving features&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;FIELD&#39;</span> <span class="p">:</span> <span class="n">fieldList</span><span class="p">,</span>
                <span class="s1">&#39;SEPARATE_DISJOINT&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:dissolved&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:dissolve&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;DissolveFeatures finished&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Returning &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in dissolveFeatures&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bufferLayer</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">segements</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">endcapStyle</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">joinStyle</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">miterLimit</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dissolve</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes a buffer area for all the features in an input layer, using a fixed or data defined distance.</span>
<span class="sd">        It is possible to use a negative distance for polygon input layers.</span>
<span class="sd">        In this case the buffer will result in a smaller polygon (setback).</span>
<span class="sd">        QGIS processing algorithem: native:buffer</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">            distance (integer): The buffer distance. Default: 10.0</span>
<span class="sd">            segements (integer): Number og segments. Default: 5</span>
<span class="sd">            endcapStyle (integer): Controls how line endings are handled in the buffer. Default: 0 (One of: 0 — Round, 1 — Flat, 2 — Square)</span>
<span class="sd">            joinStyle (integer): Specifies whether round, miter or beveled joins should be used when offsetting corners in a line. Default: 0 (Options are: 0 — Round, 1 — Miter, 2 — Bevel)</span>
<span class="sd">            miterLimit (integer): Sets the maximum distance from the offset geometry to use when creating a mitered join as a factor of the offset distance Default: 0, Minimum: 1</span>
<span class="sd">            dissolve (boolean): Dissolve the final buffer. Default: false.</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating buffer layer&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;DISTANCE&#39;</span><span class="p">:</span> <span class="n">distance</span><span class="p">,</span>
                <span class="s1">&#39;SEGMENTS&#39;</span><span class="p">:</span> <span class="n">segements</span><span class="p">,</span>
                <span class="s1">&#39;END_CAP_STYLE&#39;</span><span class="p">:</span> <span class="n">endcapStyle</span><span class="p">,</span>
                <span class="s1">&#39;JOIN_STYLE&#39;</span><span class="p">:</span> <span class="n">joinStyle</span><span class="p">,</span>
                <span class="s1">&#39;MITER_LIMIT&#39;</span><span class="p">:</span> <span class="n">miterLimit</span><span class="p">,</span>
                <span class="s1">&#39;DISSOLVE&#39;</span><span class="p">:</span> <span class="n">dissolve</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:buffer&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;BufferLayer finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in BufferLayer&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">fixGeometry</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Attempts to create a valid representation of a given invalid geometry without losing any of the input vertices.</span>
<span class="sd">        Already valid geometries are returned without further intervention. Always outputs multi-geometry layer.</span>
<span class="sd">        QGIS processing algorithem: native:fixgeometries</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Fixing geometries&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:fixgeometries&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;FixGeometry finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in FixGeometry&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">createCentroids</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new point layer, with points representing the centroids of the geometries of the input layer.</span>
<span class="sd">        The centroid is a single point representing the barycenter (of all parts) of the feature, so it can be outside the feature borders. But can also be a point on each part of the feature.</span>
<span class="sd">        The attributes of the points in the output layer are the same as for the original features.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating centroids&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;ALL_PARTS&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:centroids&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Centroids finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in createCentroids&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">randomselection</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes a vector layer and selects a subset of its features. No new layer is generated by this algorithm.</span>
<span class="sd">        The subset is defined randomly, based on feature IDs, using a percentage or count value to define the </span>
<span class="sd">        total number of features in the subset.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">            method (integer): Random selection method. One of: 0 — Number of selected features, 1 — Percentage of selected features</span>
<span class="sd">            number (integer): Number or percentage of features to select</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Performing random selection&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
                <span class="s1">&#39;NUMBER&#39;</span><span class="p">:</span><span class="n">number</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:randomextract&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Returning &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;randomextract finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in FixGeometry&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">execute_sql</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">databasetype</span><span class="p">,</span> <span class="n">sql_expression</span><span class="p">,</span> <span class="n">pgdb_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Execute an SQL query against a database. </span>
<span class="sd">        This can be used to create tables, truncate, build indexes etc.</span>
<span class="sd">        The database type must be specified in the &#39;database&#39; parameter (one of &#39;Mssql&#39; or &#39;Postgres&#39;)</span>
<span class="sd">        The default Mssql driver is &#39;SQL Server&#39; - if this needs to be overwritten, specify the parameter driver, else leave it empty.</span>
<span class="sd">        SQL statments must be trippel double-quoted - prepare the statement in the QGIS sql executor tool for testing. </span>

<span class="sd">        Args:</span>
<span class="sd">            connection (string): Name of a database connection from settings.json</span>
<span class="sd">            databasetype (string): The database type, one of &#39;Mssql&#39; or &#39;Postgres&#39;.</span>
<span class="sd">            sql_expression (string): The SQL expression to be executed. Use trippel double-quotes arraound the expression</span>
<span class="sd">            pgdb_name (string): Name of postgres database if databasetype is  Postgres. Defaults to None.</span>
<span class="sd">            driver (string): Defaults to None. The name of the Mssql driver, if &#39;SQL Server&#39; is not working.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Errorcode (integer): Returns 0 if the SQL is executed without errors.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">config</span> <span class="o">=</span> <span class="n">get_config</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">databasetype</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;Postgres&#39;</span><span class="p">,</span> <span class="s1">&#39;Mssql&#39;</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Running SQL executor on </span><span class="si">{</span><span class="n">databasetype</span><span class="si">}</span><span class="s1">&#39;</span> <span class="p">)</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unsupported database: </span><span class="si">{</span><span class="n">databasetype</span><span class="si">}</span><span class="s1">, use one of &quot;Mssql&quot; or &quot;Postgres&quot;&#39;</span> <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">dbconnection</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;DatabaseConnections&#39;</span><span class="p">][</span><span class="n">connection</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">databasetype</span> <span class="o">==</span> <span class="s1">&#39;Mssql&#39;</span><span class="p">:</span>
                <span class="kn">import</span><span class="w"> </span><span class="nn">pyodbc</span> 
                <span class="k">if</span> <span class="n">driver</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="n">mssqldriver</span> <span class="o">=</span> <span class="s1">&#39;SQL Server&#39;</span>
                <span class="k">else</span> <span class="p">:</span>
                    <span class="n">mssqldriver</span> <span class="o">=</span> <span class="s1">&#39;driver&#39;</span>
                <span class="n">cnxn</span> <span class="o">=</span> <span class="n">pyodbc</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;DRIVER={&#39;</span><span class="o">+</span><span class="n">mssqldriver</span><span class="o">+</span><span class="s1">&#39;};Server=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;Database=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;databasename&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;User ID=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;Password=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">])</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Using connection :&quot;</span> <span class="o">+</span> <span class="s1">&#39;DRIVER={&#39;</span><span class="o">+</span><span class="n">mssqldriver</span><span class="o">+</span><span class="s1">&#39;};Server=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;Database=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;databasename&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;User ID=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;Password=xxxxxxxx&#39;</span><span class="p">)</span>
                <span class="n">cursor</span> <span class="o">=</span> <span class="n">cnxn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Query: </span><span class="si">{</span><span class="n">sql_expression</span><span class="si">}</span><span class="s1">&#39;</span> <span class="p">)</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_expression</span><span class="p">)</span> 
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;SQL executor finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="mi">0</span>

            <span class="k">if</span> <span class="n">databasetype</span> <span class="o">==</span> <span class="s1">&#39;Postgres&#39;</span><span class="p">:</span>
                <span class="kn">import</span><span class="w"> </span><span class="nn">psycopg2</span>
                <span class="n">connection</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">],</span> <span class="n">password</span><span class="o">=</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">],</span> <span class="n">host</span><span class="o">=</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">],</span> <span class="n">port</span><span class="o">=</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">],</span> <span class="n">database</span><span class="o">=</span><span class="n">pgdb_name</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Using connection : user=&quot;</span><span class="o">+</span> <span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;, password=xxxxxx, host=&quot;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;, port=&quot;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;, database=&quot;</span><span class="o">+</span><span class="n">pgdb_name</span> <span class="p">)</span>
                <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Query: </span><span class="si">{</span><span class="n">sql_expression</span><span class="si">}</span><span class="s1">&#39;</span> <span class="p">)</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_expression</span><span class="p">)</span>
                <span class="n">connection</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;SQL executor finished&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="mi">0</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured running SQL executor&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">mergeVectorLayers</span><span class="p">(</span><span class="n">layers</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">crs</span><span class="p">:</span> <span class="nb">str</span> <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Combines multiple vector layers of the same geometry type into a single one.</span>
<span class="sd">        The attribute table of the resulting layer will contain the fields from all input layers. </span>
<span class="sd">        If fields with the same name but different types are found then the exported field will be automatically </span>
<span class="sd">        converted into a string type field. New fields storing the original layer name and source are also added.</span>

<span class="sd">        Optionally, the destination coordinate reference system (CRS) for the merged layer can be set. If it is </span>
<span class="sd">        not set, the CRS will be taken from the first input layer. All layers will be reprojected to match this CRS.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The layers that are to be merged into a single layer. Layers should be of the same geometry type.</span>
<span class="sd">            CRS (Crs): Choose the CRS for the output layer. If not specified, the CRS of the first input layer is used.</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Performing mergeVectorLayers&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Processing </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">layers</span><span class="p">))</span><span class="si">}</span><span class="s1"> layers&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;LAYERS&#39;</span><span class="p">:</span> <span class="n">layers</span><span class="p">,</span>
                <span class="s1">&#39;CRS&#39;</span><span class="p">:</span><span class="n">crs</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:mergevectorlayers&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Returning &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;mergeVectorLayers finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in mergeVectorLayers&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">delete_geopacakge_layers</span><span class="p">(</span><span class="n">geopackage</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">layernames</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes one or more tables from a geopackage</span>

<span class="sd">        Args:</span>
<span class="sd">            geopackage (string): The full path for the geopackage file</span>
<span class="sd">            layernames (list of strings): List of layernames to be deleted</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Performing delete_geopacakge_layer&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting layers </span><span class="si">{</span><span class="n">layernames</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">geopackage</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">layernames</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting layer </span><span class="si">{</span><span class="n">layer</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;DATABASE&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1">|layername=</span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">geopackage</span><span class="p">,</span> <span class="n">layer</span><span class="p">),</span>
                    <span class="s1">&#39;SQL&#39;</span><span class="p">:</span><span class="s1">&#39;drop table </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">layer</span><span class="p">)}</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;native:spatialiteexecutesql&quot;</span><span class="p">,</span> <span class="n">parameter</span> <span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Layer deleted&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Finished deleting layers&quot;</span><span class="p">)</span>


            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in delete_geopacakge_layer&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
                <span class="n">script_failed</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>    
            <span class="k">pass</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">assign_projection</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">targetEPSG</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Assign a new projection on a layer. The returned layer is precisely the same layer but assigned a new CRS.</span>

<span class="sd">        Args:</span>
<span class="sd">        layer : (QgsVectorLayer)Q The layer to be assigned a new CRS.</span>
<span class="sd">        targetEPSG (integer): The EPSG code og the target coordinate system.</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): Layer with the new projection assigned</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Assigning CRS EPSG:</span><span class="si">{</span><span class="n">targetEPSG</span><span class="si">}</span><span class="s1"> to </span><span class="si">{</span><span class="n">layer</span><span class="o">.</span><span class="n">name</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;CRS&#39;</span><span class="p">:</span> <span class="n">QgsCoordinateReferenceSystem</span><span class="p">(</span><span class="n">targetEPSG</span><span class="p">),</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;TEMPORARY_OUTPUT&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:assignprojection&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Assigning projection finished&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured assigning a new crs to layer&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.addAutoIncrementalField" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">addAutoIncrementalField</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">,</span> <span class="n">start</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Adds a new integer field to a vector layer, with a sequential value for each feature.
This field can be used as a unique ID for features in the layer. The new attribute is not added to the input layer but a new layer is generated instead.
The initial starting value for the incremental series can be specified. Optionally, the incremental series can be based on grouping 
fields and a sort order for features can also be specified.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer that is used as input.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fieldname</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the field with autoincremental values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>start</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Choose the initial number of the incremental count, Default: 0.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns
    layer (QgsVectorLayer): The QgsVectorLayer output layer.</p>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">addAutoIncrementalField</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds a new integer field to a vector layer, with a sequential value for each feature.</span>
<span class="sd">    This field can be used as a unique ID for features in the layer. The new attribute is not added to the input layer but a new layer is generated instead.</span>
<span class="sd">    The initial starting value for the incremental series can be specified. Optionally, the incremental series can be based on grouping </span>
<span class="sd">    fields and a sort order for features can also be specified.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer that is used as input.</span>
<span class="sd">        fieldname (string): Name of the field with autoincremental values.</span>
<span class="sd">        start (integer): Choose the initial number of the incremental count, Default: 0.</span>

<span class="sd">    Returns</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer output layer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Adding incremental field&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;FIELD_NAME&#39;</span><span class="p">:</span> <span class="n">fieldname</span><span class="p">,</span>
            <span class="s1">&#39;START&#39;</span><span class="p">:</span><span class="n">start</span><span class="p">,</span>
            <span class="s1">&#39;MODULUS&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;GROUP_FIELDS&#39;</span><span class="p">:[],</span>
            <span class="s1">&#39;SORT_EXPRESSION&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;SORT_ASCENDING&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;SORT_NULLS_FIRST&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
        <span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:addautoincrementalfield&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;addAutoIncrementalField  finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in addAutoIncrementalField&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.addxyfieldstolayer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">addxyfieldstolayer</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">crs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Adds X and Y (or latitude/longitude) fields to a point layer. The X/Y fields can be calculated in a different CRS to the layer (e.g. creating latitude/longitude fields for a layer in a projected CRS).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input layer.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>crs</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Coordinate reference system to use for the generated x and y fields.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specify the output layer.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">addxyfieldstolayer</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">crs</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds X and Y (or latitude/longitude) fields to a point layer. The X/Y fields can be calculated in a different CRS to the layer (e.g. creating latitude/longitude fields for a layer in a projected CRS).</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The input layer.</span>
<span class="sd">        crs (string): Coordinate reference system to use for the generated x and y fields.</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): Specify the output layer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Adding X/Y fields to </span><span class="si">{</span><span class="n">layer</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;CRS&#39;</span><span class="p">:</span> <span class="n">crs</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_addxyfieldstolayer&#39;</span>
        <span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:addxyfieldstolayer&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;addxyfieldstolayer  finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in addxyfieldstolayer&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.assign_projection" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">assign_projection</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">targetEPSG</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Assign a new projection on a layer. The returned layer is precisely the same layer but assigned a new CRS.</p>
<p>Args:
layer : (QgsVectorLayer)Q The layer to be assigned a new CRS.
targetEPSG (integer): The EPSG code og the target coordinate system.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Layer with the new projection assigned</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">assign_projection</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">targetEPSG</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Assign a new projection on a layer. The returned layer is precisely the same layer but assigned a new CRS.</span>

<span class="sd">    Args:</span>
<span class="sd">    layer : (QgsVectorLayer)Q The layer to be assigned a new CRS.</span>
<span class="sd">    targetEPSG (integer): The EPSG code og the target coordinate system.</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): Layer with the new projection assigned</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Assigning CRS EPSG:</span><span class="si">{</span><span class="n">targetEPSG</span><span class="si">}</span><span class="s1"> to </span><span class="si">{</span><span class="n">layer</span><span class="o">.</span><span class="n">name</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;CRS&#39;</span><span class="p">:</span> <span class="n">QgsCoordinateReferenceSystem</span><span class="p">(</span><span class="n">targetEPSG</span><span class="p">),</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;TEMPORARY_OUTPUT&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:assignprojection&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Assigning projection finished&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured assigning a new crs to layer&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.attributeindex" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">attributeindex</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Creates an index to speed up queries made against a field in a table.
Support for index creation is dependent on the layer's data provider and the field type.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>field</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The field to base the index on</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">attributeindex</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates an index to speed up queries made against a field in a table.</span>
<span class="sd">    Support for index creation is dependent on the layer&#39;s data provider and the field type.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">        field (string): The field to base the index on</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Crating attribute index on &quot;</span> <span class="o">+</span> <span class="n">layer</span> <span class="o">+</span> <span class="s2">&quot; on filed &quot;</span> <span class="o">+</span> <span class="n">field</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">field</span><span class="p">,</span>
            <span class="s1">&#39;FIELD&#39;</span><span class="p">:</span> <span class="n">field</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
        <span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:createattributeindex&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;createattributeindex  finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in createattributeindex&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.bufferLayer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bufferLayer</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">distance</span><span class="p">,</span> <span class="n">segements</span><span class="p">,</span> <span class="n">endcapStyle</span><span class="p">,</span> <span class="n">joinStyle</span><span class="p">,</span> <span class="n">miterLimit</span><span class="p">,</span> <span class="n">dissolve</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Computes a buffer area for all the features in an input layer, using a fixed or data defined distance.
It is possible to use a negative distance for polygon input layers.
In this case the buffer will result in a smaller polygon (setback).
QGIS processing algorithem: native:buffer</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>distance</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The buffer distance. Default: 10.0</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>segements</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number og segments. Default: 5</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>endcapStyle</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Controls how line endings are handled in the buffer. Default: 0 (One of: 0 — Round, 1 — Flat, 2 — Square)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>joinStyle</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specifies whether round, miter or beveled joins should be used when offsetting corners in a line. Default: 0 (Options are: 0 — Round, 1 — Miter, 2 — Bevel)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>miterLimit</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sets the maximum distance from the offset geometry to use when creating a mitered join as a factor of the offset distance Default: 0, Minimum: 1</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dissolve</code>
            </td>
            <td>
                  <code>boolean</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dissolve the final buffer. Default: false.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bufferLayer</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">segements</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">endcapStyle</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">joinStyle</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">miterLimit</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dissolve</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes a buffer area for all the features in an input layer, using a fixed or data defined distance.</span>
<span class="sd">    It is possible to use a negative distance for polygon input layers.</span>
<span class="sd">    In this case the buffer will result in a smaller polygon (setback).</span>
<span class="sd">    QGIS processing algorithem: native:buffer</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">        distance (integer): The buffer distance. Default: 10.0</span>
<span class="sd">        segements (integer): Number og segments. Default: 5</span>
<span class="sd">        endcapStyle (integer): Controls how line endings are handled in the buffer. Default: 0 (One of: 0 — Round, 1 — Flat, 2 — Square)</span>
<span class="sd">        joinStyle (integer): Specifies whether round, miter or beveled joins should be used when offsetting corners in a line. Default: 0 (Options are: 0 — Round, 1 — Miter, 2 — Bevel)</span>
<span class="sd">        miterLimit (integer): Sets the maximum distance from the offset geometry to use when creating a mitered join as a factor of the offset distance Default: 0, Minimum: 1</span>
<span class="sd">        dissolve (boolean): Dissolve the final buffer. Default: false.</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating buffer layer&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;DISTANCE&#39;</span><span class="p">:</span> <span class="n">distance</span><span class="p">,</span>
            <span class="s1">&#39;SEGMENTS&#39;</span><span class="p">:</span> <span class="n">segements</span><span class="p">,</span>
            <span class="s1">&#39;END_CAP_STYLE&#39;</span><span class="p">:</span> <span class="n">endcapStyle</span><span class="p">,</span>
            <span class="s1">&#39;JOIN_STYLE&#39;</span><span class="p">:</span> <span class="n">joinStyle</span><span class="p">,</span>
            <span class="s1">&#39;MITER_LIMIT&#39;</span><span class="p">:</span> <span class="n">miterLimit</span><span class="p">,</span>
            <span class="s1">&#39;DISSOLVE&#39;</span><span class="p">:</span> <span class="n">dissolve</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:buffer&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;BufferLayer finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in BufferLayer&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.clip" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clip</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">overlay</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Clips a vector layer using the features of an additional polygon layer.
Only the parts of the features in the input layer that fall within the polygons of 
the overlay layer will be added to the resulting layer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Layer containing the features to be clipped</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>overlay</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Layer containing the clipping features</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Layer to contain the features from the input layer that are inside the overlay (clipping) layer</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clip</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">overlay</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clips a vector layer using the features of an additional polygon layer.</span>
<span class="sd">    Only the parts of the features in the input layer that fall within the polygons of </span>
<span class="sd">    the overlay layer will be added to the resulting layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): Layer containing the features to be clipped</span>
<span class="sd">        overlay (QgsVectorLayer): Layer containing the clipping features</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): Layer to contain the features from the input layer that are inside the overlay (clipping) layer</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Clipping layers&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;OVERLAY&#39;</span><span class="p">:</span> <span class="n">overlay</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:clip&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Clip  finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Clip&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.concavehull" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">concavehull</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">holes</span><span class="p">,</span> <span class="n">multigeom</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Computes the concave hull of the features from an input point layer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>inputlayer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input point vector layer</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alpha</code>
            </td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number from 0 (maximum concave hull) to 1 (convex hull).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>holes</code>
            </td>
            <td>
                  <code>boolean</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Choose whether to allow holes in the final concave hull</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>multigeom</code>
            </td>
            <td>
                  <code>boolean</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Check if you want to have singlepart geometries instead of multipart ones.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specify the output vector layer</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">concavehull</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span><span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">alpha</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">holes</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">multigeom</span><span class="p">:</span> <span class="nb">bool</span> <span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the concave hull of the features from an input point layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        inputlayer (QgsVectorLayer): Input point vector layer</span>
<span class="sd">        alpha (float): Number from 0 (maximum concave hull) to 1 (convex hull).</span>
<span class="sd">        holes (boolean): Choose whether to allow holes in the final concave hull</span>
<span class="sd">        multigeom (boolean): Check if you want to have singlepart geometries instead of multipart ones.</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): Specify the output vector layer</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;calcualting concavehull&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
            <span class="s1">&#39;ALPHA&#39;</span> <span class="p">:</span> <span class="n">alpha</span><span class="p">,</span>
            <span class="s1">&#39;HOLES&#39;</span> <span class="p">:</span> <span class="n">holes</span><span class="p">,</span>
            <span class="s1">&#39;NO_MULTIGEOMETRY&#39;</span> <span class="p">:</span> <span class="n">multigeom</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_concavehull&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:concavehull&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;concavehull finished&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in concavehull&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span>            
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.convexhull" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convexhull</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Calculates the convex hull for each feature in an input layer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input vector layer</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specify the output vector layer.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">convexhull</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculates the convex hull for each feature in an input layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): Input vector layer</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): Specify the output vector layer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Calculating convexhull for layer </span><span class="si">{</span><span class="n">layer</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_convexhull&#39;</span>
        <span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:convexhull&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;convexhull  finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in convexhull&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.countpointsinpolygon" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">countpointsinpolygon</span><span class="p">(</span><span class="n">polygons</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">weight</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Takes a point and a polygon layer and counts the number of points from the point layer in each of the polygons of the polygon layer.
A new polygon layer is generated, with the exact same content as the input polygon layer, but containing an additional field with the points count corresponding to each polygon.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>polygons</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Polygon layer whose features are associated with the count of points they contain</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Point layer with features to count</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>weight</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A field from the point layer. The count generated will be the sum of the weight field of the points contained by the polygon. If the weight field is not numeric, the count will be 0.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fieldname</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the field to store the count of points</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specification of the output layer.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">countpointsinpolygon</span><span class="p">(</span><span class="n">polygons</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">points</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">weight</span> <span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes a point and a polygon layer and counts the number of points from the point layer in each of the polygons of the polygon layer.</span>
<span class="sd">    A new polygon layer is generated, with the exact same content as the input polygon layer, but containing an additional field with the points count corresponding to each polygon.</span>

<span class="sd">    Args:</span>
<span class="sd">        polygons (QgsVectorLayer): Polygon layer whose features are associated with the count of points they contain</span>
<span class="sd">        points (QgsVectorLayer): Point layer with features to count</span>
<span class="sd">        weight (string): A field from the point layer. The count generated will be the sum of the weight field of the points contained by the polygon. If the weight field is not numeric, the count will be 0.</span>
<span class="sd">        fieldname (string): The name of the field to store the count of points</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): Specification of the output layer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Conducting point in polygon&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">weight</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">weight</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;POLYGONS&#39;</span><span class="p">:</span> <span class="n">polygons</span><span class="p">,</span>
            <span class="s1">&#39;POINTS&#39;</span><span class="p">:</span> <span class="n">points</span><span class="p">,</span>
            <span class="s1">&#39;WEIGHT&#39;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span>
            <span class="s1">&#39;FIELD&#39;</span> <span class="p">:</span> <span class="n">fieldname</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_countpointsinpolygon&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:Countpointsinpolygon&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Promote to multipart finished&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Countpointsinpolygon&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span>  
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.createCentroids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">createCentroids</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Creates a new point layer, with points representing the centroids of the geometries of the input layer.
The centroid is a single point representing the barycenter (of all parts) of the feature, so it can be outside the feature borders. But can also be a point on each part of the feature.
The attributes of the points in the output layer are the same as for the original features.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">createCentroids</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a new point layer, with points representing the centroids of the geometries of the input layer.</span>
<span class="sd">    The centroid is a single point representing the barycenter (of all parts) of the feature, so it can be outside the feature borders. But can also be a point on each part of the feature.</span>
<span class="sd">    The attributes of the points in the output layer are the same as for the original features.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating centroids&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;ALL_PARTS&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:centroids&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Centroids finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in createCentroids&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.dbscanclustering" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">dbscanclustering</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">,</span> <span class="n">min_clusters</span><span class="p">,</span> <span class="n">max_dist</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Clusters point features based on a 2D implementation of Density-based spatial clustering of applications with noise (DBSCAN) algorithm.
The algorithm requires two parameters, a minimum cluster size, and the maximum distance allowed between clustered points.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>inputlayer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Layer to analyze</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>min_clusters</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum number of features to generate a cluster</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_dist</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distance beyond which two features can not belong to the same cluster (eps)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specify the vector layer for the result of the clustering.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dbscanclustering</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">min_clusters</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">max_dist</span><span class="p">:</span> <span class="nb">int</span> <span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clusters point features based on a 2D implementation of Density-based spatial clustering of applications with noise (DBSCAN) algorithm.</span>
<span class="sd">    The algorithm requires two parameters, a minimum cluster size, and the maximum distance allowed between clustered points.</span>

<span class="sd">    Args:</span>
<span class="sd">        inputlayer (QgsVectorLayer): Layer to analyze</span>
<span class="sd">        min_clusters (integer): Minimum number of features to generate a cluster</span>
<span class="sd">        max_dist (integer): Distance beyond which two features can not belong to the same cluster (eps)</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): Specify the vector layer for the result of the clustering.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Performing DBScan clustering&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
            <span class="s1">&#39;MIN_SIZE&#39;</span> <span class="p">:</span> <span class="n">min_clusters</span><span class="p">,</span>
            <span class="s1">&#39;EPS&#39;</span><span class="p">:</span> <span class="n">max_dist</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_dbscanclustering&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:dbscanclustering&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Dbscanclustering finished&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Dbscanclustering&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.deleteColumns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">deleteColumns</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">columns</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Takes a vector layer and generates a new one that has the same features but without the selected columns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input vector layer to drop field(s) from</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>columns</code>
            </td>
            <td>
                  <code>list of strings</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The field(s) to drop</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer output layer.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">deleteColumns</span> <span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes a vector layer and generates a new one that has the same features but without the selected columns.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): Input vector layer to drop field(s) from</span>
<span class="sd">        columns (list of strings): The field(s) to drop</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer output layer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;deleting fields&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;COLUMN&#39;</span><span class="p">:</span><span class="n">columns</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
        <span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:deletecolumn&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;deleteColumns  finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in deleteColumns&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.delete_geopacakge_layers" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_geopacakge_layers</span><span class="p">(</span><span class="n">geopackage</span><span class="p">,</span> <span class="n">layernames</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Deletes one or more tables from a geopackage</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>geopackage</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The full path for the geopackage file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>layernames</code>
            </td>
            <td>
                  <code>list of strings</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of layernames to be deleted</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">delete_geopacakge_layers</span><span class="p">(</span><span class="n">geopackage</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">layernames</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Deletes one or more tables from a geopackage</span>

<span class="sd">    Args:</span>
<span class="sd">        geopackage (string): The full path for the geopackage file</span>
<span class="sd">        layernames (list of strings): List of layernames to be deleted</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Performing delete_geopacakge_layer&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting layers </span><span class="si">{</span><span class="n">layernames</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">geopackage</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">layernames</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting layer </span><span class="si">{</span><span class="n">layer</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;DATABASE&#39;</span><span class="p">:</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1">|layername=</span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">geopackage</span><span class="p">,</span> <span class="n">layer</span><span class="p">),</span>
                <span class="s1">&#39;SQL&#39;</span><span class="p">:</span><span class="s1">&#39;drop table </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">layer</span><span class="p">)}</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;native:spatialiteexecutesql&quot;</span><span class="p">,</span> <span class="n">parameter</span> <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Layer deleted&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Finished deleting layers&quot;</span><span class="p">)</span>


        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in delete_geopacakge_layer&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">script_failed</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>    
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.difference" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">difference</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">overlay</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Extracts features from the input layer that don’t fall within the boundaries of the overlay layer.
Input layer features that partially overlap the overlay layer feature(s) are split along the 
boundary of those feature(s.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Layer to extract (parts of) features from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>overlay</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Layer containing the geometries that will be subtracted from the iniput layer geometries</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">difference</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">overlay</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extracts features from the input layer that don’t fall within the boundaries of the overlay layer.</span>
<span class="sd">    Input layer features that partially overlap the overlay layer feature(s) are split along the </span>
<span class="sd">    boundary of those feature(s.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): Layer to extract (parts of) features from.</span>
<span class="sd">        overlay (QgsVectorLayer): Layer containing the geometries that will be subtracted from the iniput layer geometries</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finding differences&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;OVERLAY&#39;</span><span class="p">:</span> <span class="n">overlay</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:difference&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Difference  finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Difference&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.dissolveFeatures" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">dissolveFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">fieldList</span><span class="p">,</span> <span class="n">disjoined</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Takes a vector layer and combines its features into new features. 
One or more attributes can be specified to dissolve features belonging to the same class 
(having the same value for the specified attributes), alternatively all features can be dissolved to a single feature.
All output geometries will be converted to multi geometries. 
QGIS processing algorithem: native:dissolve.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fieldList</code>
            </td>
            <td>
                  <code>list of strings</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of fields to dissolve on. Default []</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>disjoined</code>
            </td>
            <td>
                  <code>boolean</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Keep disjoint features separate ? Default: False</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dissolveFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">fieldList</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">disjoined</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes a vector layer and combines its features into new features. </span>
<span class="sd">    One or more attributes can be specified to dissolve features belonging to the same class </span>
<span class="sd">    (having the same value for the specified attributes), alternatively all features can be dissolved to a single feature.</span>
<span class="sd">    All output geometries will be converted to multi geometries. </span>
<span class="sd">    QGIS processing algorithem: native:dissolve.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">        fieldList (list of strings): List of fields to dissolve on. Default []</span>
<span class="sd">        disjoined (boolean): Keep disjoint features separate ? Default: False</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Dissolving features&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;FIELD&#39;</span> <span class="p">:</span> <span class="n">fieldList</span><span class="p">,</span>
            <span class="s1">&#39;SEPARATE_DISJOINT&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:dissolved&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:dissolve&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;DissolveFeatures finished&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Returning &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in dissolveFeatures&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.execute_sql" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">execute_sql</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">databasetype</span><span class="p">,</span> <span class="n">sql_expression</span><span class="p">,</span> <span class="n">pgdb_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Execute an SQL query against a database. 
This can be used to create tables, truncate, build indexes etc.
The database type must be specified in the 'database' parameter (one of 'Mssql' or 'Postgres')
The default Mssql driver is 'SQL Server' - if this needs to be overwritten, specify the parameter driver, else leave it empty.
SQL statments must be trippel double-quoted - prepare the statement in the QGIS sql executor tool for testing. </p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>connection</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of a database connection from settings.json</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>databasetype</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The database type, one of 'Mssql' or 'Postgres'.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sql_expression</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The SQL expression to be executed. Use trippel double-quotes arraound the expression</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pgdb_name</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of postgres database if databasetype is  Postgres. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>driver</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Defaults to None. The name of the Mssql driver, if 'SQL Server' is not working.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Errorcode</code></td>            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns 0 if the SQL is executed without errors.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">execute_sql</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">databasetype</span><span class="p">,</span> <span class="n">sql_expression</span><span class="p">,</span> <span class="n">pgdb_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Execute an SQL query against a database. </span>
<span class="sd">    This can be used to create tables, truncate, build indexes etc.</span>
<span class="sd">    The database type must be specified in the &#39;database&#39; parameter (one of &#39;Mssql&#39; or &#39;Postgres&#39;)</span>
<span class="sd">    The default Mssql driver is &#39;SQL Server&#39; - if this needs to be overwritten, specify the parameter driver, else leave it empty.</span>
<span class="sd">    SQL statments must be trippel double-quoted - prepare the statement in the QGIS sql executor tool for testing. </span>

<span class="sd">    Args:</span>
<span class="sd">        connection (string): Name of a database connection from settings.json</span>
<span class="sd">        databasetype (string): The database type, one of &#39;Mssql&#39; or &#39;Postgres&#39;.</span>
<span class="sd">        sql_expression (string): The SQL expression to be executed. Use trippel double-quotes arraound the expression</span>
<span class="sd">        pgdb_name (string): Name of postgres database if databasetype is  Postgres. Defaults to None.</span>
<span class="sd">        driver (string): Defaults to None. The name of the Mssql driver, if &#39;SQL Server&#39; is not working.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Errorcode (integer): Returns 0 if the SQL is executed without errors.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">get_config</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">databasetype</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;Postgres&#39;</span><span class="p">,</span> <span class="s1">&#39;Mssql&#39;</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Running SQL executor on </span><span class="si">{</span><span class="n">databasetype</span><span class="si">}</span><span class="s1">&#39;</span> <span class="p">)</span>
    <span class="k">else</span> <span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unsupported database: </span><span class="si">{</span><span class="n">databasetype</span><span class="si">}</span><span class="s1">, use one of &quot;Mssql&quot; or &quot;Postgres&quot;&#39;</span> <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">dbconnection</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;DatabaseConnections&#39;</span><span class="p">][</span><span class="n">connection</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">databasetype</span> <span class="o">==</span> <span class="s1">&#39;Mssql&#39;</span><span class="p">:</span>
            <span class="kn">import</span><span class="w"> </span><span class="nn">pyodbc</span> 
            <span class="k">if</span> <span class="n">driver</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">mssqldriver</span> <span class="o">=</span> <span class="s1">&#39;SQL Server&#39;</span>
            <span class="k">else</span> <span class="p">:</span>
                <span class="n">mssqldriver</span> <span class="o">=</span> <span class="s1">&#39;driver&#39;</span>
            <span class="n">cnxn</span> <span class="o">=</span> <span class="n">pyodbc</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;DRIVER={&#39;</span><span class="o">+</span><span class="n">mssqldriver</span><span class="o">+</span><span class="s1">&#39;};Server=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;Database=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;databasename&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;User ID=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;Password=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">])</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Using connection :&quot;</span> <span class="o">+</span> <span class="s1">&#39;DRIVER={&#39;</span><span class="o">+</span><span class="n">mssqldriver</span><span class="o">+</span><span class="s1">&#39;};Server=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;Database=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;databasename&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;User ID=&#39;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;;Password=xxxxxxxx&#39;</span><span class="p">)</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">cnxn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Query: </span><span class="si">{</span><span class="n">sql_expression</span><span class="si">}</span><span class="s1">&#39;</span> <span class="p">)</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_expression</span><span class="p">)</span> 
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;SQL executor finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">databasetype</span> <span class="o">==</span> <span class="s1">&#39;Postgres&#39;</span><span class="p">:</span>
            <span class="kn">import</span><span class="w"> </span><span class="nn">psycopg2</span>
            <span class="n">connection</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">],</span> <span class="n">password</span><span class="o">=</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">],</span> <span class="n">host</span><span class="o">=</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">],</span> <span class="n">port</span><span class="o">=</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">],</span> <span class="n">database</span><span class="o">=</span><span class="n">pgdb_name</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Using connection : user=&quot;</span><span class="o">+</span> <span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;, password=xxxxxx, host=&quot;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;, port=&quot;</span><span class="o">+</span><span class="n">dbconnection</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;, database=&quot;</span><span class="o">+</span><span class="n">pgdb_name</span> <span class="p">)</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Query: </span><span class="si">{</span><span class="n">sql_expression</span><span class="si">}</span><span class="s1">&#39;</span> <span class="p">)</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_expression</span><span class="p">)</span>
            <span class="n">connection</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;SQL executor finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">0</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured running SQL executor&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.extractByExpression" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">extractByExpression</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">expression</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Creates a vector layer from an input layer, containing only matching features.
The criteria for adding features to the resulting layer is based on a QGIS expression.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer that is used as input.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>expression</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Expression to filter the vector layer</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer output layer.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">extractByExpression</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">expression</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a vector layer from an input layer, containing only matching features.</span>
<span class="sd">    The criteria for adding features to the resulting layer is based on a QGIS expression.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer that is used as input.</span>
<span class="sd">        expression (string): Expression to filter the vector layer</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer output layer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting by expression&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;EXPRESSION&#39;</span><span class="p">:</span> <span class="n">expression</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:extractbyexpression&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extractbyexpression  finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in extractByExpression&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.extractByLocation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">extractByLocation</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span> <span class="n">intersect</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p><em>summary</em></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input vector layer. </p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>predicate</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Type of spatial relation the source feature should have with the target feature so that they could be joined. One or more of: 0 — intersect, 1 — contain, 2 — equal, 3 — touch, 4 — overlap, 5 — are within 6 — cross.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>intersect</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Intersection vector layer</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the output vector layer for the join.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">extractByLocation</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">predicate</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">intersect</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;_summary_</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): Input vector layer. </span>
<span class="sd">        predicate (integer): Type of spatial relation the source feature should have with the target feature so that they could be joined. One or more of: 0 — intersect, 1 — contain, 2 — equal, 3 — touch, 4 — overlap, 5 — are within 6 — cross.</span>
<span class="sd">        intersect (QgsVectorLayer): Intersection vector layer</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): the output vector layer for the join.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting by location&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;PREDICATE&#39;</span><span class="p">:</span><span class="n">predicate</span><span class="p">,</span>
            <span class="s1">&#39;INTERSECT&#39;</span><span class="p">:</span><span class="n">intersect</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:extractbylocation&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;extractByLocation finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in extractByLocation&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.extractvertices" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">extractvertices</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Takes a vector layer and generates a point layer with points representing the vertices in the input geometries.
The attributes associated to each point are the same ones associated to the feature that the vertex belongs to.
Additional fields are added to the vertices indicating the vertex index (beginning at 0), the feature’s part and its index within the part
(as well as its ring for polygons), distance along original geometry and bisector angle of vertex for original geometry.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>inputlayer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input vector layer</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specify the output vector layer</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">extractvertices</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span><span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes a vector layer and generates a point layer with points representing the vertices in the input geometries.</span>
<span class="sd">    The attributes associated to each point are the same ones associated to the feature that the vertex belongs to.</span>
<span class="sd">    Additional fields are added to the vertices indicating the vertex index (beginning at 0), the feature’s part and its index within the part</span>
<span class="sd">    (as well as its ring for polygons), distance along original geometry and bisector angle of vertex for original geometry.</span>

<span class="sd">    Args:</span>
<span class="sd">        inputlayer (QgsVectorLayer): Input vector layer</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): Specify the output vector layer</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Extracting vertices&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_extractvertices&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:extractvertices&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;extractvertices finished&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in extractvertices&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span>    
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.fieldCalculator" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fieldCalculator</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">,</span> <span class="n">fieldtype</span><span class="p">,</span> <span class="n">fieldlength</span><span class="p">,</span> <span class="n">fieldprecision</span><span class="p">,</span> <span class="n">formula</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Scripting the field calcualtor
You can use all the supported expressions and functions.
The original layer is not modified. A new layer is generated where the attribute table contains the calucalted field
QGIS processing algorithem: native:fieldcalculator</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fieldname</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the new calcualted field</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fieldtype</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Type of the field,  Default: 0  (0 — Float, 1 — Integer, 2 — String, 3 — Date)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fieldlength</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Lenght of the field, Default: 10.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fieldprecision</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Precision of the field, Default: 3.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>formula</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The expression that populates the values of the field.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fieldCalculator</span> <span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">fieldtype</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">fieldlength</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">fieldprecision</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">formula</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Scripting the field calcualtor</span>
<span class="sd">    You can use all the supported expressions and functions.</span>
<span class="sd">    The original layer is not modified. A new layer is generated where the attribute table contains the calucalted field</span>
<span class="sd">    QGIS processing algorithem: native:fieldcalculator</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">        fieldname (string): The name of the new calcualted field</span>
<span class="sd">        fieldtype (integer): Type of the field,  Default: 0  (0 — Float, 1 — Integer, 2 — String, 3 — Date)</span>
<span class="sd">        fieldlength (integer): Lenght of the field, Default: 10.</span>
<span class="sd">        fieldprecision (integer): Precision of the field, Default: 3.</span>
<span class="sd">        formula (string): The expression that populates the values of the field.</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Calculating field&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;FIELD_NAME&#39;</span><span class="p">:</span> <span class="n">fieldname</span><span class="p">,</span>
            <span class="s1">&#39;FIELD_TYPE&#39;</span><span class="p">:</span> <span class="n">fieldtype</span><span class="p">,</span>
            <span class="s1">&#39;FIELD_LENGTH&#39;</span><span class="p">:</span> <span class="n">fieldlength</span><span class="p">,</span>
            <span class="s1">&#39;FIELD_PRECISION&#39;</span><span class="p">:</span> <span class="n">fieldprecision</span><span class="p">,</span>
            <span class="s1">&#39;FORMULA&#39;</span><span class="p">:</span> <span class="n">formula</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
        <span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:fieldcalculator&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;fieldCalculator  finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in fieldCalculator&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.fixGeometry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fixGeometry</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Attempts to create a valid representation of a given invalid geometry without losing any of the input vertices.
Already valid geometries are returned without further intervention. Always outputs multi-geometry layer.
QGIS processing algorithem: native:fixgeometries</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fixGeometry</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Attempts to create a valid representation of a given invalid geometry without losing any of the input vertices.</span>
<span class="sd">    Already valid geometries are returned without further intervention. Always outputs multi-geometry layer.</span>
<span class="sd">    QGIS processing algorithem: native:fixgeometries</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Fixing geometries&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:fixgeometries&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;FixGeometry finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in FixGeometry&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.forceRHR" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forceRHR</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Forces polygon geometries to respect the Right-Hand-Rule, in which the area that is bounded
by a polygon is to the right of the boundary. 
In particular, the exterior ring is oriented in a clockwise direction and any interior
rings in a counter-clockwise direction.
QGIS processing algorithem: native:forcerhr</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">forceRHR</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Forces polygon geometries to respect the Right-Hand-Rule, in which the area that is bounded</span>
<span class="sd">    by a polygon is to the right of the boundary. </span>
<span class="sd">    In particular, the exterior ring is oriented in a clockwise direction and any interior</span>
<span class="sd">    rings in a counter-clockwise direction.</span>
<span class="sd">    QGIS processing algorithem: native:forcerhr</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Running force right-hand rule&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:forced&#39;</span>
        <span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:forcerhr&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;forceRHR finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in forceRHR&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.joinByLocation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">joinByLocation</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span> <span class="n">join</span><span class="p">,</span> <span class="n">join_fields</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">discard_nomatching</span><span class="p">,</span> <span class="n">prefix</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Takes an input vector layer and creates a new vector layer that is an extended version of
the input one, with additional attributes in its attribute table.
The additional attributes and their values are taken from a second vector layer.
A spatial criteria is applied to select the values from the second layer that are added to each 
feature from the first layer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input vector layer. The output layer will consist of the features of this layer with attributes from matching features in the second layer.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>predicate</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Type of spatial relation the source feature should have with the target feature so that they could be joined. One or more of: 0 — intersect, 1 — contain, 2 — equal, 3 — touch, 4 — overlap, 5 — are within 6 — cross.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>join</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The join layer. Features of this vector layer will add their attributes to the source layer attribute table if they satisfy the spatial relationship.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>join_fields</code>
            </td>
            <td>
                  <code>list of strings</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Select the specific fields you want to add from the join layer. By default all the fields are added.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of the final joined layer. One of: 0 — Create separate feature for each matching feature (one-to-many) 1 — Take attributes of the first matching feature only (one-to-one) 2 — Take attributes of the feature with largest overlap only (one-to-one)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>discard_nomatching</code>
            </td>
            <td>
                  <code>boolean</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Remove from the output the input layer’s features which could not be joined</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prefix</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Add a prefix to joined fields in order to easily identify them and avoid field name collision</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the output vector layer for the join.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">joinByLocation</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">predicate</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">join</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">join_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">discard_nomatching</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes an input vector layer and creates a new vector layer that is an extended version of</span>
<span class="sd">    the input one, with additional attributes in its attribute table.</span>
<span class="sd">    The additional attributes and their values are taken from a second vector layer.</span>
<span class="sd">    A spatial criteria is applied to select the values from the second layer that are added to each </span>
<span class="sd">    feature from the first layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): Input vector layer. The output layer will consist of the features of this layer with attributes from matching features in the second layer.</span>
<span class="sd">        predicate (integer): Type of spatial relation the source feature should have with the target feature so that they could be joined. One or more of: 0 — intersect, 1 — contain, 2 — equal, 3 — touch, 4 — overlap, 5 — are within 6 — cross.</span>
<span class="sd">        join (QgsVectorLayer): The join layer. Features of this vector layer will add their attributes to the source layer attribute table if they satisfy the spatial relationship.</span>
<span class="sd">        join_fields (list of strings): Select the specific fields you want to add from the join layer. By default all the fields are added.</span>
<span class="sd">        method (integer): The type of the final joined layer. One of: 0 — Create separate feature for each matching feature (one-to-many) 1 — Take attributes of the first matching feature only (one-to-one) 2 — Take attributes of the feature with largest overlap only (one-to-one)</span>
<span class="sd">        discard_nomatching (boolean): Remove from the output the input layer’s features which could not be joined</span>
<span class="sd">        prefix (string): Add a prefix to joined fields in order to easily identify them and avoid field name collision</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): the output vector layer for the join.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Clipping layers&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;PREDICATE&#39;</span><span class="p">:</span><span class="n">predicate</span><span class="p">,</span>
            <span class="s1">&#39;JOIN&#39;</span><span class="p">:</span><span class="n">join</span><span class="p">,</span>
            <span class="s1">&#39;JOIN_FIELDS&#39;</span><span class="p">:</span><span class="n">join_fields</span><span class="p">,</span>
            <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
            <span class="s1">&#39;DISCARD_NONMATCHING&#39;</span><span class="p">:</span><span class="n">discard_nomatching</span><span class="p">,</span>
            <span class="s1">&#39;PREFIX&#39;</span><span class="p">:</span><span class="n">prefix</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:joinattributesbylocation&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;joinByLocation finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in joinByLocation&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.join_by_attribute" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">join_by_attribute</span><span class="p">(</span><span class="n">layer1</span><span class="p">,</span> <span class="n">layer1_field</span><span class="p">,</span> <span class="n">layer2</span><span class="p">,</span> <span class="n">layer2_field</span><span class="p">,</span> <span class="n">fields_to_copy</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">discard</span><span class="p">,</span> <span class="n">prefix</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Takes an input vector layer and creates a new vector layer that is an extended version of the input one, 
with additional attributes in its attribute table.
The additional attributes and their values are taken from a second vector layer. An attribute is selected in each of them 
to define the join criteria.
QGIS processing algorithem: native:joinattributestable.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer1</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The 1. QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>layer1_field</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Field of the source layer to use for the join</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>layer2</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The 2. QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>layer2_field</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Field of the source layer to use for the join</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fields_to_copy</code>
            </td>
            <td>
                  <code>list of strings</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Select the specific fields you want to add. By default all the fields are added. Default []</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of the final joined layer. One of: 0 — Create separate feature for each matching feature (one-to-many) 1 — Take attributes of the first matching feature only (one-to-one)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>discard</code>
            </td>
            <td>
                  <code>boolean</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Check if you don’t want to keep the features that could not be joined</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prefix</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Add a prefix to joined fields in order to easily identify them and avoid field name collision</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">join_by_attribute</span><span class="p">(</span><span class="n">layer1</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">layer1_field</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">layer2</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">layer2_field</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">fields_to_copy</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">discard</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes an input vector layer and creates a new vector layer that is an extended version of the input one, </span>
<span class="sd">    with additional attributes in its attribute table.</span>
<span class="sd">    The additional attributes and their values are taken from a second vector layer. An attribute is selected in each of them </span>
<span class="sd">    to define the join criteria.</span>
<span class="sd">    QGIS processing algorithem: native:joinattributestable.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer1 (QgsVectorLayer): The 1. QgsVectorLayer input for the algorithem</span>
<span class="sd">        layer1_field (string): Field of the source layer to use for the join</span>
<span class="sd">        layer2 (QgsVectorLayer): The 2. QgsVectorLayer input for the algorithem</span>
<span class="sd">        layer2_field (string): Field of the source layer to use for the join</span>
<span class="sd">        fields_to_copy (list of strings): Select the specific fields you want to add. By default all the fields are added. Default []</span>
<span class="sd">        method (integer): The type of the final joined layer. One of: 0 — Create separate feature for each matching feature (one-to-many) 1 — Take attributes of the first matching feature only (one-to-one)</span>
<span class="sd">        discard (boolean): Check if you don’t want to keep the features that could not be joined</span>
<span class="sd">        prefix (string): Add a prefix to joined fields in order to easily identify them and avoid field name collision</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Joining features features&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer1</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer1</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span><span class="n">layer1</span><span class="p">,</span>
            <span class="s1">&#39;FIELD&#39;</span><span class="p">:</span><span class="n">layer1_field</span><span class="p">,</span>
            <span class="s1">&#39;INPUT_2&#39;</span><span class="p">:</span><span class="n">layer2</span><span class="p">,</span>
            <span class="s1">&#39;FIELD_2&#39;</span><span class="p">:</span><span class="n">layer2_field</span><span class="p">,</span>
            <span class="s1">&#39;FIELDS_TO_COPY&#39;</span><span class="p">:</span><span class="n">fields_to_copy</span><span class="p">,</span>
            <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
            <span class="s1">&#39;DISCARD_NONMATCHING&#39;</span><span class="p">:</span><span class="n">discard</span><span class="p">,</span>
            <span class="s1">&#39;PREFIX&#39;</span><span class="p">:</span><span class="n">prefix</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:joined&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:joinattributestable&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Joinattributestable finished&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Returning &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in joinattributestable&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.kmeansclustering" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">kmeansclustering</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">,</span> <span class="n">clusters</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Calculates the 2D distance based k-means cluster number for each input feature.
K-means clustering aims to partition the features into k clusters in which each feature belongs to the cluster with the nearest mean. The mean point is represented by the barycenter of the clustered features.
If input geometries are lines or polygons, the clustering is based on the centroid of the feature.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>inputlayer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Layer to analyze</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>clusters</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of clusters to create with the features</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specify the output vector layer for generated the clusters.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">kmeansclustering</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">clusters</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculates the 2D distance based k-means cluster number for each input feature.</span>
<span class="sd">    K-means clustering aims to partition the features into k clusters in which each feature belongs to the cluster with the nearest mean. The mean point is represented by the barycenter of the clustered features.</span>
<span class="sd">    If input geometries are lines or polygons, the clustering is based on the centroid of the feature.</span>

<span class="sd">    Args:</span>
<span class="sd">        inputlayer (QgsVectorLayer): Layer to analyze</span>
<span class="sd">        clusters (integer): Number of clusters to create with the features</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): Specify the output vector layer for generated the clusters.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Calculating clusters&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
            <span class="s1">&#39;CLUSTERS&#39;</span> <span class="p">:</span> <span class="n">clusters</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_kmeansclustering&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:kmeansclustering&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Kmeansclustering finished&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Kmeansclustering&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.lineintersections" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lineintersections</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">,</span> <span class="n">split_layer</span><span class="p">,</span> <span class="n">input_fields</span><span class="p">,</span> <span class="n">intersect_fields</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Splits the lines or polygons in one layer using the lines or polygon rings in another layer to define the breaking points. Intersection between geometries in both layers are considered as split points.
Output will contain multi geometries for split features.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>inputlayer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input line layer.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>split_layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Layer to use to find line intersections.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_fields</code>
            </td>
            <td>
                  <code>list of strings</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Field(s) of the input layer to keep in the output. If no fields are chosen all fields are taken.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>intersect_fields</code>
            </td>
            <td>
                  <code>list of strings</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Field(s) of the intersect layer to keep in the output. If no fields are chosen all fields are taken. Duplicate field names will be appended a count suffix to avoid collision</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specify the layer to contain the intersection points of the lines from the input and overlay layers.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">lineintersections</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">split_layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">input_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">intersect_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Splits the lines or polygons in one layer using the lines or polygon rings in another layer to define the breaking points. Intersection between geometries in both layers are considered as split points.</span>
<span class="sd">    Output will contain multi geometries for split features.</span>

<span class="sd">    Args:</span>
<span class="sd">        inputlayer (QgsVectorLayer): Input line layer.</span>
<span class="sd">        split_layer (QgsVectorLayer): Layer to use to find line intersections.</span>
<span class="sd">        input_fields (list of strings): Field(s) of the input layer to keep in the output. If no fields are chosen all fields are taken.</span>
<span class="sd">        intersect_fields (list of strings): Field(s) of the intersect layer to keep in the output. If no fields are chosen all fields are taken. Duplicate field names will be appended a count suffix to avoid collision</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): Specify the layer to contain the intersection points of the lines from the input and overlay layers.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Performing line intersections&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
            <span class="s1">&#39;INTERSECT&#39;</span><span class="p">:</span> <span class="n">split_layer</span><span class="p">,</span>
            <span class="s1">&#39;INPUT_FIELDS&#39;</span> <span class="p">:</span> <span class="n">input_fields</span><span class="p">,</span> 
            <span class="s1">&#39;INTERSECT_FIELDS&#39;</span> <span class="p">:</span> <span class="n">intersect_fields</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_lineintersections&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:lineintersections&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Lineintersections finished&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in Lineintersections&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.mergeVectorLayers" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">mergeVectorLayers</span><span class="p">(</span><span class="n">layers</span><span class="p">,</span> <span class="n">crs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Combines multiple vector layers of the same geometry type into a single one.
The attribute table of the resulting layer will contain the fields from all input layers. 
If fields with the same name but different types are found then the exported field will be automatically 
converted into a string type field. New fields storing the original layer name and source are also added.</p>
<p>Optionally, the destination coordinate reference system (CRS) for the merged layer can be set. If it is 
not set, the CRS will be taken from the first input layer. All layers will be reprojected to match this CRS.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The layers that are to be merged into a single layer. Layers should be of the same geometry type.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>CRS</code>
            </td>
            <td>
                  <code>Crs</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Choose the CRS for the output layer. If not specified, the CRS of the first input layer is used.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">mergeVectorLayers</span><span class="p">(</span><span class="n">layers</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">crs</span><span class="p">:</span> <span class="nb">str</span> <span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Combines multiple vector layers of the same geometry type into a single one.</span>
<span class="sd">    The attribute table of the resulting layer will contain the fields from all input layers. </span>
<span class="sd">    If fields with the same name but different types are found then the exported field will be automatically </span>
<span class="sd">    converted into a string type field. New fields storing the original layer name and source are also added.</span>

<span class="sd">    Optionally, the destination coordinate reference system (CRS) for the merged layer can be set. If it is </span>
<span class="sd">    not set, the CRS will be taken from the first input layer. All layers will be reprojected to match this CRS.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The layers that are to be merged into a single layer. Layers should be of the same geometry type.</span>
<span class="sd">        CRS (Crs): Choose the CRS for the output layer. If not specified, the CRS of the first input layer is used.</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Performing mergeVectorLayers&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Processing </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">layers</span><span class="p">))</span><span class="si">}</span><span class="s1"> layers&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;LAYERS&#39;</span><span class="p">:</span> <span class="n">layers</span><span class="p">,</span>
            <span class="s1">&#39;CRS&#39;</span><span class="p">:</span><span class="n">crs</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:mergevectorlayers&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Returning &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;mergeVectorLayers finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in mergeVectorLayers&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.multiringconstantbuffer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">multiringconstantbuffer</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">,</span> <span class="n">rings</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Computes multi-ring (donut) buffer for the features of the input layer, using a fixed or dynamic distance and number of rings.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>inputlayer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input vector layer</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>rings</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of rings. It can be a unique value (same number of rings for all the features) or it can be taken from features data (the number of rings depends on feature values).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>distance</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distance between the rings. It can be a unique value (same distance for all the features) or it can be taken from features data (a field in the input data layer).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specify the output polygon vector layer</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">multiringconstantbuffer</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span><span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">rings</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">distance</span> <span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes multi-ring (donut) buffer for the features of the input layer, using a fixed or dynamic distance and number of rings.</span>

<span class="sd">    Args:</span>
<span class="sd">        inputlayer (QgsVectorLayer): Input vector layer</span>
<span class="sd">        rings (integer): The number of rings. It can be a unique value (same number of rings for all the features) or it can be taken from features data (the number of rings depends on feature values).</span>
<span class="sd">        distance (string): Distance between the rings. It can be a unique value (same distance for all the features) or it can be taken from features data (a field in the input data layer).</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): Specify the output polygon vector layer</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Creating multiringconstantbuffer&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Using distance value&#39;</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="n">QgsProperty</span><span class="o">.</span><span class="n">fromExpression</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">distance</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Using distance from field&#39;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
            <span class="s1">&#39;RINGS&#39;</span><span class="p">:</span> <span class="n">rings</span><span class="p">,</span>
            <span class="s1">&#39;DISTANCE&#39;</span><span class="p">:</span> <span class="n">distance</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_multiringconstantbuffer&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:multiringconstantbuffer&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;multiringconstantbuffer finished&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in multiringconstantbuffer&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span> 
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.poleofinaccessibility" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">poleofinaccessibility</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Calculates the pole of inaccessibility for a polygon layer, which is the most distant internal point from the boundary of the surface. 
This algorithm uses the ‘polylabel’ algorithm (Vladimir Agafonkin, 2016), which is an iterative approach guaranteed to find the true pole of inaccessibility within
a specified tolerance. A more precise tolerance (lower value) requires more iterations and will take longer to calculate. 
The distance from the calculated pole to the polygon boundary will be stored as a new attribute in the output layer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>inputlayer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input vector layer</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tolerance</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Set the tolerance for the calculation. Default 1</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specify the output polygon vector layer.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">poleofinaccessibility</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span><span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculates the pole of inaccessibility for a polygon layer, which is the most distant internal point from the boundary of the surface. </span>
<span class="sd">    This algorithm uses the ‘polylabel’ algorithm (Vladimir Agafonkin, 2016), which is an iterative approach guaranteed to find the true pole of inaccessibility within</span>
<span class="sd">    a specified tolerance. A more precise tolerance (lower value) requires more iterations and will take longer to calculate. </span>
<span class="sd">    The distance from the calculated pole to the polygon boundary will be stored as a new attribute in the output layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        inputlayer (QgsVectorLayer): Input vector layer</span>
<span class="sd">        tolerance (integer): Set the tolerance for the calculation. Default 1</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): Specify the output polygon vector layer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;calcualting poleofinaccessibility&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
            <span class="s1">&#39;TOLERANCE&#39;</span> <span class="p">:</span> <span class="n">tolerance</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_poleofinaccessibility&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:poleofinaccessibility&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;poleofinaccessibility finished&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in poleofinaccessibility&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.promoteToMultipart" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">promoteToMultipart</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Generates a vectorlayer in which all geometries are multipart.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer that is used as input.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer containing multi geometries.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">promoteToMultipart</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates a vectorlayer in which all geometries are multipart.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer that is used as input.</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer containing multi geometries.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Collecting geometries&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:multipart&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:promotetomulti&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Promote to multipart finished&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in promoteToMultipart&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.randomExtract" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">randomExtract</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Takes a vector layer and generates a new one that contains only a subset of the features in the input layer.
The subset is defined randomly, based on feature IDs, using a percentage or count value to define 
the total number of features in the subset.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input vector layer. </p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Random selection method. One of: 0 — Number of selected features 1 — Percentage of selected features</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>number</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number or percentage of features to select</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">randomExtract</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes a vector layer and generates a new one that contains only a subset of the features in the input layer.</span>
<span class="sd">    The subset is defined randomly, based on feature IDs, using a percentage or count value to define </span>
<span class="sd">    the total number of features in the subset.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): Input vector layer. </span>
<span class="sd">        method (integer): Random selection method. One of: 0 — Number of selected features 1 — Percentage of selected features</span>
<span class="sd">        number (integer): Number or percentage of features to select</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting random features&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
            <span class="s1">&#39;NUMBER&#39;</span><span class="p">:</span><span class="n">number</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:randomextract&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;randomExtract finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in randomExtract&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.randomselection" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">randomselection</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Takes a vector layer and selects a subset of its features. No new layer is generated by this algorithm.
The subset is defined randomly, based on feature IDs, using a percentage or count value to define the 
total number of features in the subset.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Random selection method. One of: 0 — Number of selected features, 1 — Percentage of selected features</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>number</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number or percentage of features to select</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">randomselection</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes a vector layer and selects a subset of its features. No new layer is generated by this algorithm.</span>
<span class="sd">    The subset is defined randomly, based on feature IDs, using a percentage or count value to define the </span>
<span class="sd">    total number of features in the subset.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">        method (integer): Random selection method. One of: 0 — Number of selected features, 1 — Percentage of selected features</span>
<span class="sd">        number (integer): Number or percentage of features to select</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Performing random selection&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
            <span class="s1">&#39;NUMBER&#39;</span><span class="p">:</span><span class="n">number</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:buffer&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:randomextract&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Returning &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;randomextract finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in FixGeometry&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.renameTableField" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">renameTableField</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">newname</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Renames an existing field from a vector layer.<br />
The original layer is not modified. A new layer is generated where the attribute table contains the renamed field.
QGIS processing algorithem: native:renametablefield</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>field</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The field that is to be renamed</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>newname</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>New name for the field</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">renameTableField</span> <span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">newname</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Renames an existing field from a vector layer.  </span>
<span class="sd">    The original layer is not modified. A new layer is generated where the attribute table contains the renamed field.</span>
<span class="sd">    QGIS processing algorithem: native:renametablefield</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">        field (string): The field that is to be renamed</span>
<span class="sd">        newname (string): New name for the field</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Renaming field&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;FIELD&#39;</span><span class="p">:</span> <span class="n">field</span><span class="p">,</span>
            <span class="s1">&#39;NEW_NAME&#39;</span><span class="p">:</span> <span class="n">newname</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
        <span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:renametablefield&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;renameTableField  finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in renameTableField&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.reproject" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">reproject</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">targetEPSG</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Reprojects a vector layer in a different CRS.
The reprojected layer will have the same features and attributes of the input layer.
QGIS processing algorithem: native:reprojectlayer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>targetEPSG</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The EPSG code og the target coordinate system.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reproject</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">targetEPSG</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reprojects a vector layer in a different CRS.</span>
<span class="sd">    The reprojected layer will have the same features and attributes of the input layer.</span>
<span class="sd">    QGIS processing algorithem: native:reprojectlayer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">        targetEPSG (integer): The EPSG code og the target coordinate system.</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Running reporjector V2&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;TARGET_CRS&#39;</span><span class="p">:</span> <span class="n">QgsCoordinateReferenceSystem</span><span class="p">(</span><span class="n">targetEPSG</span><span class="p">),</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:Reprojected&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:reprojectlayer&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Reproject finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured reprojectiong layer&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.simplify" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">simplify</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Simplifies the geometries in a line or polygon layer. 
It creates a new layer with the same features as the ones in the input layer, but with geometries containing a lower number of vertices.
QGIS processing algorithem: native:simplifygeometries.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Simplification method. One of: 0 — Distance (Douglas-Peucker), 1 — Snap to grid, 2 — Area (Visvalingam)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tolerance</code>
            </td>
            <td>
                  <code>integer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold tolerance (in units of the layer): if the distance between two nodes is smaller than the tolerance value, the segment will be simplified and vertices will be removed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">simplify</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">:</span><span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Simplifies the geometries in a line or polygon layer. </span>
<span class="sd">        It creates a new layer with the same features as the ones in the input layer, but with geometries containing a lower number of vertices.</span>
<span class="sd">        QGIS processing algorithem: native:simplifygeometries.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">            method (integer): Simplification method. One of: 0 — Distance (Douglas-Peucker), 1 — Snap to grid, 2 — Area (Visvalingam)</span>
<span class="sd">            tolerance (integer): Threshold tolerance (in units of the layer): if the distance between two nodes is smaller than the tolerance value, the segment will be simplified and vertices will be removed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Running simplify&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layerHasFeatures</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Processing &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">featureCount</span><span class="p">())</span> <span class="o">+</span><span class="s2">&quot; features&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
                <span class="s1">&#39;METHOD&#39;</span><span class="p">:</span><span class="n">method</span><span class="p">,</span>
                <span class="s1">&#39;TOLERANCE&#39;</span><span class="p">:</span><span class="n">tolerance</span><span class="p">,</span>
                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:simplify&#39;</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:simplifygeometries&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Simplifygeometries finished&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in simplifygeometries&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.spatialindex" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">spatialindex</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Creates an index to speed up access to the features in a layer based on their spatial location.
Support for spatial index creation is dependent on the layer's data provider.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">spatialindex</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates an index to speed up access to the features in a layer based on their spatial location.</span>
<span class="sd">    Support for spatial index creation is dependent on the layer&#39;s data provider.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Crating spatial index on &quot;</span> <span class="o">+</span> <span class="n">layer</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:extracted&#39;</span>
        <span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:createspatialindex&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;createspatialindex  finished&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in createspatialindex&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.symmetricaldifference" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">symmetricaldifference</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">,</span> <span class="n">overlay_layer</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Creates a layer containing features from both the input and overlay layers but with the overlapping areas between the two layers removed.
The attribute table of the symmetrical difference layer contains attributes and fields from both the input and overlay layers.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>inputlayer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>First layer to extract (parts of) features from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>overlay_layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Second layer to extract (parts of) features from. Ideally the geometry type should be the same as input layer.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specify the layer to contain (the parts of) the features from the input and overlay layers that do not overlap features from the other layer</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">symmetricaldifference</span><span class="p">(</span><span class="n">inputlayer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">overlay_layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a layer containing features from both the input and overlay layers but with the overlapping areas between the two layers removed.</span>
<span class="sd">    The attribute table of the symmetrical difference layer contains attributes and fields from both the input and overlay layers.</span>

<span class="sd">    Args:</span>
<span class="sd">        inputlayer (QgsVectorLayer): First layer to extract (parts of) features from.</span>
<span class="sd">        overlay_layer (QgsVectorLayer): Second layer to extract (parts of) features from. Ideally the geometry type should be the same as input layer.</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): Specify the layer to contain (the parts of) the features from the input and overlay layers that do not overlap features from the other layer</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;calcualting symetrical difference&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">inputlayer</span><span class="p">,</span>
            <span class="s1">&#39;OVERLAY&#39;</span> <span class="p">:</span> <span class="n">overlay_layer</span><span class="p">,</span>
            <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:output_from_symmetricaldifference&#39;</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Parameters: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:symmetricaldifference&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="n">Worker</span><span class="o">.</span><span class="n">progress</span><span class="p">)[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Symmetricaldifference finished&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;An error occured in symmetricaldifference&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">  –  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Program terminated&quot;</span> <span class="p">)</span>
        <span class="n">script_failed</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="python.engine.workers.Worker.Vector.timeStamper" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">timeStamper</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">ts_fieldname</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Create an attribute woth current timestamp on features.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>layer</code>
            </td>
            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The QgsVectorLayer input for the algorithem</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ts_fieldname</code>
            </td>
            <td>
                  <code>string</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the new timestamp field</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>layer</code></td>            <td>
                  <code><span title="qgis.core.QgsVectorLayer">QgsVectorLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result output from the algorithem</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>python\engine\workers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">timeStamper</span><span class="p">(</span><span class="n">layer</span><span class="p">:</span> <span class="n">QgsVectorLayer</span><span class="p">,</span> <span class="n">ts_fieldname</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an attribute woth current timestamp on features.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (QgsVectorLayer): The QgsVectorLayer input for the algorithem</span>
<span class="sd">        ts_fieldname (string): The name of the new timestamp field</span>

<span class="sd">    Returns:</span>
<span class="sd">        layer (QgsVectorLayer): The result output from the algorithem</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Creating timestamp </span><span class="si">{</span><span class="n">ts_fieldname</span><span class="si">}</span><span class="s1"> using fieldCalculator&#39;</span><span class="p">)</span>
    <span class="n">newLayer</span> <span class="o">=</span> <span class="n">Worker</span><span class="o">.</span><span class="n">fieldCalculator</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">ts_fieldname</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39; now() &#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">newLayer</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>